/* ****************************************************************************
 * $Revision: 53980 $:
 * $Author: wuttipong.thongvises $:
 * $Date: 2016-03-28 17:27:08 +0700 (Mon, 28 Mar 2016) $:
 * $HeadURL: http://svn01.rapidesuite.com:999/svn/a/dev/rapidesuite/controldata/FUSION_11.1.9/trunk/core/reverse_sql/FINANCIALS/Manage%20Document%20Sequences%20-%20Manage%20Document%20Sequences.sql $:
 * $Id: Manage Document Sequences - Manage Document Sequences.sql 53980 2016-03-28 10:27:08Z wuttipong.thongvises $:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */


SELECT DISTINCT DOCUMENTSEQUENCESEO.NAME RES_DOCUMENT_SEQUENCE_NAME
,APPLICATIONPEO.APPLICATION_NAME RES_APPLICATION
,APPLTAXONOMYPEO.USER_MODULE_NAME RES_MODULE
,LOOKUPPEO.MEANING RES_TYPE
,LOOKUPPEO2.MEANING RES_DETERMINANT_TYPE
,TO_CHAR(DOCUMENTSEQUENCESEO.START_DATE,'DD-Mon-YYYY') RES_START_DATE
,TO_CHAR(DOCUMENTSEQUENCESEO.END_DATE,'DD-Mon-YYYY') RES_END_DATE
,DOCUMENTSEQUENCESEO.INITIAL_VALUE RES_INITIAL_VALUE
,(CASE WHEN DOCUMENTSEQUENCESEO.AUDIT_TABLE_NAME IS NULL THEN
	'No'
	ELSE
	'Yes'
	END) RES_AUDIT
,DECODE(DOCUMENTSEQUENCESEO.MESSAGE_FLAG,'Y','Yes','No') RES_DISPLAY_MESSAGE
,decode(VALIDATE_TRANSACTION_DATE,'Y','Yes','No') RES_VALIDATE_TRANSACTION_DATE
,DocumentSequencesEO.LAST_UPDATED_BY   RSC_LAST_UPDATED_BY
,DocumentSequencesEO.LAST_UPDATE_DATE  RSC_LAST_UPDATE_DATE
,DocumentSequencesEO.CREATED_BY RSC_CREATED_BY
,DocumentSequencesEO.CREATION_DATE RSC_CREATION_DATE
,(CASE DOCUMENTSEQUENCESEO.DETERMINANT_TYPE 
	WHEN 'LEDGER' THEN
		DocSequenceAssignmentsEO.DETERMINANT_VALUE
	END) RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,(CASE DOCUMENTSEQUENCESEO.DETERMINANT_TYPE 
	WHEN 'BU' THEN
		DocSequenceAssignmentsEO.DETERMINANT_VALUE
	END) RSC_BUSINESS_UNIT_ID
,(CASE DOCUMENTSEQUENCESEO.DETERMINANT_TYPE 
	WHEN 'LE' THEN
		DocSequenceAssignmentsEO.DETERMINANT_VALUE
	END) RSC_LEGAL_ENTITY_ID
,NULL RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM FND_DOCUMENT_SEQUENCES DocumentSequencesEO
,FND_APPL_TAXONOMY_VL APPLTAXONOMYPEO
,FND_APPLICATION_VL APPLICATIONPEO
,FND_LOOKUPS LOOKUPPEO
,FND_LOOKUPS LOOKUPPEO2
,FND_DOC_SEQUENCE_ASSIGNMENTS DocSequenceAssignmentsEO
WHERE DOCUMENTSEQUENCESEO.MODULE_ID     = APPLTAXONOMYPEO.MODULE_ID
AND DOCUMENTSEQUENCESEO.APPLICATION_ID = APPLICATIONPEO.APPLICATION_ID
AND LOOKUPPEO.LOOKUP_TYPE = 'FND_DOCUMENT_SEQUENCES_TYPE'
AND DOCUMENTSEQUENCESEO.TYPE = LOOKUPPEO.LOOKUP_CODE 
AND LOOKUPPEO2.LOOKUP_TYPE(+) = 'FND_DOC_SEQ_DETERMINANT_TYPE'
AND DOCUMENTSEQUENCESEO.DETERMINANT_TYPE = LOOKUPPEO2.LOOKUP_CODE(+)  
AND DocumentSequencesEO.DOC_SEQUENCE_ID  =  DocSequenceAssignmentsEO.DOC_SEQUENCE_ID
ORDER BY DocumentSequencesEO.NAME