/* ****************************************************************************
 * $Revision: 78229 $:
 * $Author: pisan.jariyasettachok $:
 * $Date: 2022-04-07 14:37:05 +0700 (Thu, 07 Apr 2022) $:
 * $HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/reverse_sql/FINANCIALS/Configure%20Payroll%20Legislations%20-%20Payroll%20Relationship%20Type%20Mapping.sql $:
 * $Id: Configure Payroll Legislations - Payroll Relationship Type Mapping.sql 78229 2022-04-07 07:37:05Z pisan.jariyasettachok $:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */

SELECT  (SELECT TERRITORY_SHORT_NAME FROM FND_TERRITORIES_VL WHERE TERRITORY_CODE = payINSTALLLEGISEO.LEGISLATION_CODE ) RES_LEGISLATION
,(SELECT MEANING FROM FND_LOOKUP_VALUES WHERE LOOKUP_CODE = payRELMAPEO.SYSTEM_PERSON_TYPE
		AND LOOKUP_TYPE = 'SYSTEM_PERSON_TYPE' AND LANGUAGE = USERENV('LANG')
		AND SYSDATE BETWEEN START_DATE_ACTIVE AND NVL(END_DATE_ACTIVE ,TO_DATE('31-12-4712','DD-MM-YYYY'))) RES_SYSTEM_PERSON_TYPE
,(SELECT RELATIONSHIP_TYPE_NAME FROM PAY_RELATIONSHIP_TYPES_TL WHERE RELATIONSHIP_TYPE_ID = payRELTYPEO.RELATIONSHIP_TYPE_ID 
	AND LANGUAGE = USERENV('LANG'))RES_PAYROLL_RELATIONSHIP_TYPE
,DECODE(payRELTYPEO.PROCESS_IN_RUN,'Y','Yes','No') RES_PROCESS_IN_PAYROLL

,payRELMAPEO.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,payRELMAPEO.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,payRELMAPEO.CREATED_BY RSC_CREATED_BY
,payRELMAPEO.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,NULL RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,NULL RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM PAY_INSTALLED_LEGISLATIONS payINSTALLLEGISEO
,PAY_REL_TYPE_MAPS payRELMAPEO
,PAY_RELATIONSHIP_TYPES payRELTYPEO
WHERE  payINSTALLLEGISEO.LEGISLATION_CODE = payRELMAPEO.LEGISLATION_CODE
AND payRELMAPEO.RELATIONSHIP_TYPE_ID = payRELTYPEO.RELATIONSHIP_TYPE_ID 
ORDER BY 1