/* ****************************************************************************
 * $Revision: 79319 $:
 * $Author: tanawat.wongjan $:
 * $Date: 2022-09-12 16:05:31 +0700 (Mon, 12 Sep 2022) $:
 * $HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/reverse_sql/FINANCIALS/Manage%20Shipping%20Parameters%20-%20Shipping%20Parameters.sql $:
 * $Id: Manage Shipping Parameters - Shipping Parameters.sql 79319 2022-09-12 09:05:31Z tanawat.wongjan $:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */

-- RSC_PREREQUISITE_OBJECTS=WSH_SHIPPING_PARAMETERS
 
SELECT WshShippingParametersEO.ORGANIZATION_CODE RES_ORGANIZATION
,(SELECT ShippingLookupEO.MEANING
	FROM WSH_LOOKUPS ShippingLookupEO
	WHERE ShippingLookupEO.LOOKUP_TYPE = 'WSH_AC_DEL_CRITERIA'
	AND ShippingLookupEO.LOOKUP_CODE   = WshShippingParametersEO.AUTOCREATE_DEL_ORDERS_FLAG
	) RES_SHIPMENT_CREATION_CRITERIA
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'WSH_APPENDING_LIMIT'
	AND LOOKUP_CODE   = WshShippingParametersEO.APPENDING_LIMIT
	) RES_APPENDING_LIMIT
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'WSH_PERCENT_FILL_FLAG'
	AND LOOKUP_CODE   = WshShippingParametersEO.PERCENT_FILL_BASIS_FLAG
	) RES_PACKING_UNIT_CAPACITY_METH
,(SELECT cc.SHIP_CONFIRM_RULE_NAME
	FROM WSH_SHIP_CONFIRM_RULES cc
	WHERE cc.SHIP_CONFIRM_RULE_ID = WshShippingParametersEO.SHIP_CONFIRM_RULE_ID
	) RES_SHIP_CONFIRM_RULE
,(SELECT UnitOfMeasureClassPEO.UOM_CLASS_TL
	FROM INV_UOM_CLASSES_VL UnitOfMeasureClassPEO
	WHERE UnitOfMeasureClassPEO.UOM_CLASS = WshShippingParametersEO.WEIGHT_UOM_CLASS
	) RES_WEIGHT_UOM_CLASS
,(SELECT UnitOfMeasureClassPEO.UOM_CLASS_TL
	FROM INV_UOM_CLASSES_VL UnitOfMeasureClassPEO
	WHERE UnitOfMeasureClassPEO.UOM_CLASS = WshShippingParametersEO.VOLUME_UOM_CLASS
	) RES_VOLUME_UOM_CLASS
,WshShippingParametersEO.GU_CURRENCY_UOM RES_CURRENCY
,WshShippingParametersEO.INV_INTERFACE_BATCH_SIZE RES_INVENTORY_INTERFACE_BATCH_
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'WSH_EXCEPTION_BEHAVIOR'
	AND LOOKUP_CODE   = WshShippingParametersEO.SHIP_SET_BREAKING_OPTION
	) RES_SHIPMENT_SET_BEHAVIOR
,WshShippingParametersEO.PACK_DOC_SEQ_CATEGORY_CODE RES_PACKING_SLIP_DOCUMENT_SEQU
,WshShippingParametersEO.BOL_DOC_SEQ_CATEGORY_CODE RES_BILL_OF_LADING_DOCUMENT_SE
,WshShippingParametersEO.INVOICE_DOC_SEQ_CATEGORY_CODE RES_COMMERCIAL_INVOICE_DOCUMEN
,DECODE(WshShippingParametersEO.AUTOPACK_LEVEL,'1','Yes','No') RES_AUTOMATICALLY_PACK
,DECODE(WshShippingParametersEO.CONSOLIDATE_BO_LINES,'Y','Yes','No') RES_CONSOLIDATE_BACKORDERED_LI
,DECODE(WshShippingParametersEO.ENFORCE_PACKING_FLAG,'Y','Yes','No') RES_ENFORCE_PACKING
,DECODE(WshShippingParametersEO.ENFORCE_SHIP_METHOD,'Y','Yes','No') RES_ENFORCE_SHIPPING_METHOD
,DECODE(WshShippingParametersEO.ALLOW_FUTURE_SHIP_DATE,'Y','Yes','No') RES_ALLOW_FUTURE_SHIP_DATE
,DECODE(WshShippingParametersEO.DEFER_INTERFACE,'Y','Yes','No') RES_DEFER_SENDING_INVENTORY_UP
,DECODE(WshShippingParametersEO.CARRIER_MANIFEST_FLAG,'Y','Yes','No') RES_ENABLE_CARRIER_MANIFESTING
,DECODE(WshShippingParametersEO.DEFER_INV_PROCESS_ONLINE,'Y','Yes','No') RES_DEFER_ONLINE_PROCESSING_OF
,DECODE(WshShippingParametersEO.PUBLISH_TRANSACTIONAL_EVENTS,'Y','Yes','No') RES_PUBLISH_TRANSACTIONAL_EVEN
,DECODE(PACKING_SLIP_STATUS_REQUIRED,'N','No',DECODE(SHIPMENT_DESCRIPTION_REQUIRED,'N','No',DECODE(
	TRANSPORTATION_REASON_REQUIRED,'N','No','Yes'))) RES_REQUIRED_ON_PACKING_SLIP_A
,DECODE(PACKING_SLIP_STATUS_REQUIRED,'Y','Yes','No') RES_REQUIRED_ON_PACKING_SLIP_P
,DECODE(SHIPMENT_DESCRIPTION_REQUIRED,'Y','Yes','No') RES_REQUIRED_ON_PACKING_SLIP_S
,DECODE(TRANSPORTATION_REASON_REQUIRED,'Y','Yes','No') RES_REQUIRED_ON_PACKING_SLIP_T
,DECODE(WshShippingParametersEO.QS_ENABLED_FLAG,'Y','Yes','No') RES_ENABLE_QUICK_SHIP
,WshShippingParametersEO.QS_DEFAULT_PICK_FROM_SUBINV RES_SUBINVENTORY_FOR_QUICK_SHI
,FND_FLEX_EXT.GET_SEGS(APPLICATION_SHORT_NAME => 'INV',KEY_FLEX_CODE => 'MTLL',STRUCTURE_NUMBER =>
	qsInventories.STRUCTURE_INSTANCE_NUMBER,COMBINATION_ID => WshShippingParametersEO.QS_DEFAULT_PICK_FROM_LOCATOR,
	DATA_SET_NUMBER => qsInventories.SUBINVENTORY_ID) RES_LOCATOR_FOR_QUICK_SHIP
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'ORA_WSH_SHP_TOL_BEHAVIORS'
	AND LOOKUP_CODE   =  WshShippingParametersEO.SHIPPING_TOLERANCE_BEHAVIOR
	) RES_SHIPPING_TOLERANCE_BEHAVIO
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'ORA_WSH_RSV_WMS_BEHAVIOR'
	AND LOOKUP_CODE   =  WshShippingParametersEO.WMS_RESERVATION_FLAG
	) RES_RESERVATION_BEHAVIOR_FOR_I 
,(SELECT aa.PICK_SEQUENCE_RULE_NAME
	FROM WSH_PICK_SEQUENCE_RULES_VL aa
	WHERE aa.PICK_SEQUENCE_RULE_ID = WshShippingParametersEO.PICK_SEQUENCE_RULE_ID
	) RES_RELEASE_SEQUENCE_RULE
,(SELECT bb.PICK_GROUPING_RULE_NAME
	FROM INV_PICK_GROUPING_RULES_VL bb
	WHERE bb.PICK_GROUPING_RULE_ID = WshShippingParametersEO.PICK_GROUPING_RULE_ID
	) RES_PICK_SLIP_GROUPING_RULE
,(SELECT LookupPEO.MEANING
	FROM FND_LOOKUPS LookupPEO
	WHERE LOOKUP_TYPE = 'WSH_PRINT_PICK_SLIP'
	AND LOOKUP_CODE   = WshShippingParametersEO.PRINT_PICK_SLIP_MODE
	) RES_PRINT_PICK_SLIP
,WshShippingParametersEO.PICK_SLIP_LINES RES_NUMBER_OF_PICK_SLIP_LINES
,WshShippingParametersEO.DEFAULT_STAGE_SUBINVENTORY RES_STAGING_SUBINVENTORY
,FND_FLEX_EXT.GET_SEGS(APPLICATION_SHORT_NAME => 'INV',KEY_FLEX_CODE => 'MTLL',STRUCTURE_NUMBER =>
	MtlSecondaryInventories.STRUCTURE_INSTANCE_NUMBER,COMBINATION_ID => MtlSecondaryInventories.INVENTORY_LOCATION_ID,
	DATA_SET_NUMBER => MtlSecondaryInventories.SUBINVENTORY_ID) RES_STAGING_LOCATOR
,WshShippingParametersEO.PICK_RELEASE_CHILD_PROCESS_NUM RES_NUMBER_OF_PICK_RELEASE_CHI
,WshShippingParametersEO.PICK_RELEASE_BATCH_SIZE RES_PICK_RELEASE_BATCH_SIZE
,DECODE(WshShippingParametersEO.AUTOCREATE_DELIVERIES_FLAG,'Y','Yes','No') RES_CREATE_SHIPMENTS
,DECODE(WshShippingParametersEO.ENFORCE_SHIP_SET_AND_SMC,'Y','Yes','No') RES_ENFORCE_SHIPMENT_SETS
,DECODE(WshShippingParametersEO.EXPRESS_PICK,'Y','Yes','No') RES_EXPRESS_PICK
,(SELECT MEANING
	FROM FND_LOOKUPS
	WHERE LOOKUP_TYPE = 'ORA_WSH_TRD_COMP_SCRN_MTHD'
	AND LOOKUP_CODE = WshShippingParametersEO.TRADE_COMPLIANCE_METHOD
	) RES_TRADE_COMPLIANCE_SCREENING
,DECODE(WshShippingParametersEO.GROUP_BY_SHIP_METHOD_FLAG,'Y','Yes','No') RES_SHIPPING_METHOD
,DECODE(WshShippingParametersEO.GROUP_BY_FOB_FLAG,'Y','Yes','No') RES_FOB
,DECODE(WshShippingParametersEO.GROUP_BY_FREIGHT_TERMS_FLAG,'Y','Yes','No') RES_FREIGHT_TERMS
,DECODE(WshShippingParametersEO.GROUP_BY_SOLD_CUST_FLAG,'Y','Yes','No') RES_CUSTOMER
,WshShippingParametersEO.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,WshShippingParametersEO.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,WshShippingParametersEO.CREATED_BY RSC_CREATED_BY
,WshShippingParametersEO.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,NULL RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,WshShippingParametersEO.ORGANIZATION_ID RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM WSH_SHIPPING_PARAMETERS WshShippingParametersEO
,INV_ITEM_LOCATIONS MtlSecondaryInventories
,INV_ITEM_LOCATIONS qsInventories
WHERE WshShippingParametersEO.DEFAULT_STAGE_LOCATOR_ID = MtlSecondaryInventories.INVENTORY_LOCATION_ID(+)
AND WshShippingParametersEO.QS_DEFAULT_PICK_FROM_LOCATOR = qsInventories.INVENTORY_LOCATION_ID(+)
ORDER BY WshShippingParametersEO.ORGANIZATION_CODE