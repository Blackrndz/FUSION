/* ****************************************************************************
 * $Revision$:
 * $Author$:
 * $Date$:
 * $HeadURL$:
 * $Id$:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */
 
-- RSC_PREREQUISITE_OBJECTS=XCC_CONTROL_BUDGETS


SELECT xccCONTROLBUDE0.NAME RES_NAME
,DECODE(xccCONTROLBUDE0.ALLOW_OVERRIDES_FLAG,'Y','Yes','No') RES_ALLOW_OVERRIDES
,xccOVERIDE0.NAME RES_OVERRIDE_RULES_NAME
,'All' RES_TRANSACTION_TYPES
,NULL RES_ENABLED

,xccCONTROLBUDE0.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,xccCONTROLBUDE0.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,xccCONTROLBUDE0.CREATED_BY RSC_CREATED_BY
,xccCONTROLBUDE0.CREATION_DATE RSC_CREATION_DATE
,xccCONTROLBUDE0.LEDGER_ID RSC_LEDGER_ID
,null RSC_CHART_OF_ACCOUNTS_ID
,null RSC_BUSINESS_UNIT_ID
,null RSC_LEGAL_ENTITY_ID
,null RSC_ORGANIZATION_ID
,null RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM XCC_CONTROL_BUDGETS xccCONTROLBUDE0
,XCC_CB_OVERRIDE_RULES xccOVERIDE0
WHERE xccCONTROLBUDE0.CONTROL_BUDGET_ID = xccOVERIDE0.CONTROL_BUDGET_ID
AND xccCONTROLBUDE0.ALLOW_OVERRIDES_FLAG = 'Y'
AND xccOVERIDE0.ALL_TRANSACTION_TYPES_FLAG = 'Y'

UNION

SELECT xccCONTROLBUDE0.NAME  RES_NAME
,DECODE(xccCONTROLBUDE0.ALLOW_OVERRIDES_FLAG,'Y','Yes','No') RES_ALLOW_OVERRIDES
,xccOVERIDE0.NAME RES_OVERRIDE_RULES_NAME
,(SELECT MEANING FROM FND_LOOKUP_VALUES WHERE LOOKUP_CODE = xccOVERIDTYPE0.TRANSACTION_TYPE_CODE
	AND LOOKUP_TYPE = 'XCC_TRANSACTION_TYPES' AND LANGUAGE = USERENV('LANG')) RES_TRANSACTION_TYPES
,'Yes' RES_ENABLED

,xccCONTROLBUDE0.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,xccCONTROLBUDE0.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,xccCONTROLBUDE0.CREATED_BY RSC_CREATED_BY
,xccCONTROLBUDE0.CREATION_DATE RSC_CREATION_DATE
,xccCONTROLBUDE0.LEDGER_ID RSC_LEDGER_ID
,null RSC_CHART_OF_ACCOUNTS_ID
,null RSC_BUSINESS_UNIT_ID
,null RSC_LEGAL_ENTITY_ID
,null RSC_ORGANIZATION_ID
,null RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM XCC_CONTROL_BUDGETS xccCONTROLBUDE0
,XCC_CB_OVERRIDE_RULES xccOVERIDE0
,XCC_CB_OVERRIDE_TRANS_TYPES xccOVERIDTYPE0
WHERE xccCONTROLBUDE0.CONTROL_BUDGET_ID = xccOVERIDE0.CONTROL_BUDGET_ID
AND xccOVERIDE0.OVERRIDE_RULE_ID = xccOVERIDTYPE0.OVERRIDE_RULE_ID
AND xccOVERIDE0.ALL_TRANSACTION_TYPES_FLAG = 'N'
AND xccCONTROLBUDE0.ALLOW_OVERRIDES_FLAG = 'Y'

ORDER BY 1,3