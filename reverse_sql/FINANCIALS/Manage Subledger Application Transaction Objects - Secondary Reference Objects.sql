/* ****************************************************************************
* $Revision: 59117 $:
* $Author: nasrullah.dusenmahamad $:
* $Date: 2016-10-21 11:10:58 +0700 (Fri, 21 Oct 2016) $:
* $HeadURL: http://svn01.rapidesuite.com:999/svn/a/dev/rapidesuite/controldata/FUSION_11.1.9/trunk/core/reverse_sql/FINANCIALS/Manage%20Key%20Flexfields%20-%20Segment%20Labels.sql $:
* $Id: Manage Key Flexfields - Segment Labels.sql 59117 2016-10-21 04:10:58Z nasrullah.dusenmahamad $:
* ****************************************************************************
* Description:
* ************************************************************************** */


SELECT (SELECT APPLICATION_NAME
	FROM FND_APPLICATION_VL
	WHERE APPLICATION_ID = TransactionObjsE0.APPLICATION_ID
	) RES_SUBLEDGER_APPLICATION
,(SELECT NAME 
	FROM XLA_EVENT_CLASSES_TL
	WHERE EVENT_CLASS_CODE = TransactionObjsE0.EVENT_CLASS_CODE
	AND APPLICATION_ID = TransactionObjsE0.APPLICATION_ID
	AND LANGUAGE = USERENV('LANG')
	) RES_EVENT_CLASS
,TransactionObjsE0.OBJECT_NAME RES_OBJECT_NAME
,(SELECT APPLICATION_NAME
	FROM FND_APPLICATION_VL
	WHERE APPLICATION_ID = PrimaryRefsE0.REFERENCE_OBJECT_APPL_ID
	) RES_PRIMARY_SUBLEDGER_APPLICAT
,PrimaryRefsE0.REFERENCE_OBJECT_NAME RES_PRIMARY_OBJECT_NAME
,(SELECT APPLICATION_NAME
	FROM FND_APPLICATION_VL
	WHERE APPLICATION_ID = SecondaryRefsE0.REFERENCE_OBJECT_APPL_ID
	) RES_SECONDARY_SUBLEDGER_APPLIC
,SecondaryRefsE0.REFERENCE_OBJECT_NAME RES_SECONDARY_OBJECT_NAME
,SecondaryRefsE0.JOIN_CONDITION RES_JOIN_CONDITION
,DECODE(SecondaryRefsE0.ALWAYS_POPULATED_FLAG,'Y','Yes','No') RES_ALWAYS_POPULATED
,SecondaryRefsE0.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,SecondaryRefsE0.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,SecondaryRefsE0.CREATED_BY RSC_CREATED_BY
,SecondaryRefsE0.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,NULL RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,NULL RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM XLA_EXTRACT_OBJECTS TransactionObjsE0
,XLA_REFERENCE_OBJECTS PrimaryRefsE0
,XLA_REFERENCE_OBJECTS SecondaryRefsE0
WHERE TransactionObjsE0.APPLICATION_ID = PrimaryRefsE0.APPLICATION_ID
AND TransactionObjsE0.ENTITY_CODE = PrimaryRefsE0.ENTITY_CODE
AND TransactionObjsE0.EVENT_CLASS_CODE = PrimaryRefsE0.EVENT_CLASS_CODE
AND TransactionObjsE0.OBJECT_NAME = PrimaryRefsE0.OBJECT_NAME
AND PrimaryRefsE0.LINKED_TO_REF_OBJ_NAME IS NULL
AND PrimaryRefsE0.APPLICATION_ID = SecondaryRefsE0.APPLICATION_ID
AND PrimaryRefsE0.ENTITY_CODE = SecondaryRefsE0.ENTITY_CODE
AND PrimaryRefsE0.EVENT_CLASS_CODE = SecondaryRefsE0.EVENT_CLASS_CODE
AND PrimaryRefsE0.OBJECT_NAME = SecondaryRefsE0.OBJECT_NAME
AND PrimaryRefsE0.REFERENCE_OBJECT_APPL_ID = SecondaryRefsE0.LINKED_TO_REF_OBJ_APPL_ID
AND PrimaryRefsE0.REFERENCE_OBJECT_NAME = SecondaryRefsE0.LINKED_TO_REF_OBJ_NAME
AND SecondaryRefsE0.LINKED_TO_REF_OBJ_NAME IS NOT NULL
ORDER BY 1,2,3,4,5,6,7