/* ****************************************************************************
 * $Revision: 79725 $:
 * $Author: tanawat.wongjan $:
 * $Date: 2022-12-01 10:12:56 +0700 (Thu, 01 Dec 2022) $:
 * $HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/reverse_sql/FINANCIALS/Manage%20Order%20Management%20Parameters%20-%20General%20Values.sql $:
 * $Id: Manage Order Management Parameters - General Values.sql 79725 2022-12-01 03:12:56Z tanawat.wongjan $:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */

-- RSC_PREREQUISITE_OBJECTS=QP_PRICING_PARAMETERS_VL
-- RSC_PREREQUISITE_OBJECTS=QP_PRICING_PARAMETER_VALUES
 
SELECT QpPricingParameters.NAME RES_PARAMETER_NAME
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ALLOW_CHANGES_THRO_CON' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_ALLOW_CHANGES_THROUGH_CONF
,(CASE
	WHEN QpPricingParameters.PARAMETER_LEVEL_CODE = 'BUSINESS_UNIT' THEN
		NVL((SELECT NAME 
			FROM HR_OPERATING_UNITS
			WHERE ORGANIZATION_ID = QpPricingParameterValues.ORG_ID
			AND SYSDATE BETWEEN DATE_FROM AND DATE_TO),'All business units')
	END) RES_BUSINESS_UNIT
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_CONFIG_EFFECTIVE_DATE' THEN
		(SELECT MEANING
			FROM FND_LOOKUPS
			WHERE LOOKUP_TYPE = 'ORA_DOO_CONFIG_EFFEC_DATE'
			AND LOOKUP_CODE = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_CONFIGURATION_EFFECTIVE_DA
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_CUSTOMER_REL_TYPE' THEN
		(SELECT MEANING
			FROM FND_LOOKUPS
			WHERE LOOKUP_TYPE = 'ORA_DOO_CUST_REL_TYPE'
			AND LOOKUP_CODE = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_CUSTOMER_RELATIONSHIP_TYPE
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_HALT_CONFIG_VAL' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_HALT_CONFIGURATOR_VALIDATI
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ITEM_VALIDATION_ORG' THEN
		(SELECT ORGANIZATION_CODE 
			FROM INV_ORGANIZATION_DEFINITIONS_V
			WHERE ORGANIZATION_ID = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_ORGANIZATION
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ITEM_VALIDATION_ORG' THEN
		(SELECT ORGANIZATION_NAME 
			FROM INV_ORGANIZATION_DEFINITIONS_V
			WHERE ORGANIZATION_ID = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_NAME
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_PREPARER_FOR_PROC' THEN
		(SELECT LIST_NAME 
			FROM PER_PERSON_NAMES_F_V
			WHERE PERSON_ID = QpPricingParameterValues.PARAMETER_VALUE_CODE
			AND SYSDATE BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE)
	END) RES_PREPARER_NAME
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_PREPARER_FOR_PROC' THEN
		(SELECT EMAIL_ADDRESS 
			FROM PER_EMAIL_ADDRESSES
			WHERE PERSON_ID = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_E_MAIL
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_FROM_EMAIL' THEN
		QpPricingParameterValues.PARAMETER_VALUE_CODE
	END) RES_FROM_E_MAIL_ADDRESS
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_IMPORT_PROCESSES' THEN
		QpPricingParameterValues.PARAMETER_VALUE_CODE
	END) RES_NUMBER_OF_PROCESSES_FOR_OR
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_SEND_DISCOUNTS_TO_BILLING' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_SEND_DISCOUNT_DETAILS_TO_B
,(CASE
	WHEN QpPricingParameterValues.PARAMETER_LEVEL_VALUE = '-1' THEN
		'All'
	ELSE
		(SELECT ORIG_SYSTEM_NAME
		FROM HZ_ORIG_SYSTEMS_VL
		WHERE ORIG_SYSTEM = QpPricingParameterValues.PARAMETER_LEVEL_VALUE)
	END) RES_SOURCE_ORDER_SYSTEM
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_START_ORD_APPROVALS' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_START_APPROVAL_PROCESS_FOR
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_COVERAGE_START_DATE' THEN
		(SELECT MEANING
			FROM FND_LOOKUPS
			WHERE LOOKUP_TYPE = 'ORA_DOO_COVERAGE_START_DATE'
			AND LOOKUP_CODE = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_START_DATE_FOR_COVERAGE_IT
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_CREDIT_CK_FAILURE_AT_SUBMIT' THEN
		(SELECT MEANING
			FROM FND_LOOKUPS
			WHERE LOOKUP_TYPE = 'ORA_FOM_CREDIT_CHK_FAIL_SUBMIT'
			AND LOOKUP_CODE = QpPricingParameterValues.PARAMETER_VALUE_CODE)
	END) RES_CREDIT_CHECK_FAILURE_AT_OR
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_NOTIFY_FREQUENCY' THEN
		QpPricingParameterValues.PARAMETER_VALUE_CODE
	END) RES_NUMBER_OF_HOURS_TO_WAIT_BE
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ENABLE_COMPLIANCE_SCREENING' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_CHECK_FOR_TRADE_COMPLIANCE
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ACTIVATE_CREDIT_CHK_SUBMIT' THEN
		DECODE(QpPricingParameterValues.PARAMETER_VALUE_CODE,'Y','Yes','N','No')
	END) RES_ACTIVATE_CREDIT_CHECK_ON_O
,QpPricingParameterValues.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,QpPricingParameterValues.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,QpPricingParameterValues.CREATED_BY RSC_CREATED_BY
,QpPricingParameterValues.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,(CASE
	WHEN QpPricingParameters.PARAMETER_LEVEL_CODE = 'BUSINESS_UNIT' THEN
		DECODE(QpPricingParameterValues.ORG_ID,-1,NULL,QpPricingParameterValues.ORG_ID)
	END) RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,(CASE
	WHEN QpPricingParameters.PARAMETER_CODE = 'QP_ITEM_VALIDATION_ORG' THEN
		QpPricingParameterValues.PARAMETER_VALUE_CODE
	END) RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM QP_PRICING_PARAMETERS_VL QpPricingParameters
,QP_PRICING_PARAMETER_VALUES QpPricingParameterValues
WHERE QpPricingParameters.PARAMETER_USAGE_CODE <> 'QP'
AND QpPricingParameters.PARAMETER_ID = QpPricingParameterValues.PARAMETER_ID
ORDER BY QpPricingParameters.NAME,2,3,6