/* ****************************************************************************
 * $Revision$:
 * $Author$:
 * $Date$:
 * $HeadURL$:
 * $Id$:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */
 
-- RSC_PREREQUISITE_OBJECTS=QP_MATRIX_INHERITED_DIMENSIONS
-- RSC_PREREQUISITE_OBJECTS=QP_MATRIX_DIMENSIONS_TL
-- RSC_PREREQUISITE_OBJECTS=QP_MATRIX_DIMENSIONS_B
-- RSC_PREREQUISITE_OBJECTS=QP_PRICING_STRATEGIES_TL
-- RSC_PREREQUISITE_OBJECTS=QP_STRATEGY_ASSIGNMENTS
-- RSC_PREREQUISITE_OBJECTS=QP_MATRIX_RULES

SELECT (SELECT MEANING
	FROM FND_LOOKUPS
	WHERE LOOKUP_TYPE = 'ORA_QP_STRATEGY_ASSIGN_LEVELS'
	AND LOOKUP_CODE = QpStrategyAssignmentsE0.STRATEGY_ASSIGNMENT_LEVEL_CODE
	) RES_ASSIGNMENT_LEVEL
,(SELECT MEANING
	FROM FND_LOOKUPS
	WHERE LOOKUP_TYPE = 'ORA_QP_PRICING_CONTEXTS'
	AND LOOKUP_CODE = QpStrategyAssignmentsE0.PRICING_CONTEXT_CODE 
	) RES_PRICING_CONTEXT
,DECODE(QpStrategyAssignmentsE0.TRANSACTION_TYPE_CODE,'ALL','All',(SELECT MEANING
	FROM FND_LOOKUPS
	WHERE LOOKUP_TYPE = 'ORA_QP_SALES_TRANSACTION_TYPES'
	AND LOOKUP_CODE = QpStrategyAssignmentsE0.TRANSACTION_TYPE_CODE
	)) RES_TRANSACTION_TYPE
--,TO_CHAR(QpStrategyAssignmentsE0.START_DATE,'DD-Mon-YYYY HH24:MI:SS') RES_START_DATE
,(CASE WHEN QpMatrixDimensionsE0.DIMENSION_TYPE IN ('Condition')
		THEN QpMatrixDimensionsE0.DYNAMIC_MATRIX_DIMENSION_NAME||' (=)' 
		WHEN QpMatrixDimensionsE0.DIMENSION_TYPE IN ('Result')
		THEN QpMatrixDimensionsE0.DYNAMIC_MATRIX_DIMENSION_NAME
		END) RES_MATRIX_NAME
,'Yes' RES_MATRIX_VALUE

/*,(CASE WHEN QpMatrixDimensionsE0.DIMENSION_TYPE IN ('Condition')
		THEN NULL
		ELSE QpMatrixDimensionsE0.DYNAMIC_MATRIX_DIMENSION_NAME||' (=)' 
		END) RES_MATRIX_NAME
,'Yes' RES_MATRIX_VALUE
,(CASE WHEN QpMatrixDimensionsE0.DIMENSION_TYPE IN ('Result')
		THEN QpMatrixDimensionsE0.DYNAMIC_MATRIX_DIMENSION_NAME
		ELSE NULL END) RES_OPTIONAL_RESULT_NAME
,'Yes' RES_OPTIONAL_RESULT_VALUE*/
,QpMatrixInteritedDimensionsE0.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,QpMatrixInteritedDimensionsE0.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,QpMatrixInteritedDimensionsE0.CREATED_BY RSC_CREATED_BY
,QpMatrixInteritedDimensionsE0.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,NULL RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,NULL RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM QP_MATRIX_DIMENSIONS_VL QpMatrixDimensionsE0
,QP_MATRIX_INHERITED_DIMENSIONS QpMatrixInteritedDimensionsE0
,QP_STRATEGY_ASSIGNMENTS QpStrategyAssignmentsE0
WHERE QpStrategyAssignmentsE0.STRATEGY_ASSIGNMENT_MATRIX_ID = QpMatrixInteritedDimensionsE0.DYNAMIC_MATRIX_ID
AND QpMatrixDimensionsE0.DYNAMIC_MATRIX_DIMENSION_ID = QpMatrixInteritedDimensionsE0.DYNAMIC_MATRIX_DIMENSION_ID
ORDER BY 1,2,3
