/* ****************************************************************************
* $Revision: 58428 $:
* $Author: pisan.jariyasettachok $:
* $Date: 2016-09-23 18:27:01 +0700 (Fri, 23 Sep 2016) $:
* $HeadURL: http://svn01.rapidesuite.com:999/svn/a/dev/rapidesuite/controldata/FUSION_11.1.9/trunk/customized/In%20Develop/reverse_sql/Manage%20Bank%20Statement%20Reconciliation%20Matching%20Rules%20-%20Manage%20Bank%20Statement%20Reconciliation%20Matchin $:
* $Id: Manage Bank Statement Reconciliation Matching Rules - Manage Bank Statement Reconciliation Matching Rules.sql 58428 2016-09-23 11:27:01Z pisan.jariyasettachok $:
* ****************************************************************************
* Description:
* ************************************************************************** */

-- RSC_PREREQUISITE_OBJECTS=CE_RECON_MATCHING_RULES

SELECT MATCHING_RULE_NAME AS RES_NAME
,DESCRIPTION              AS RES_DESCRIPTION
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = ACTIVE_FLAG
	),'No') AS RES_ACTIVE
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = AP_SOURCE_FLAG
	),'No') AS RES_TRANSACTION_SOURCES_PAYABL
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = AR_SOURCE_FLAG
	),'No') AS RES_TRANSACTION_SOURCES_RECEIV
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = PAY_SOURCE_FLAG
	),'No') AS RES_TRANSACTION_SOURCES_PAYROL
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = EXT_SOURCE_FLAG
	),'No') AS RES_TRANSACTION_SOURCES_EXTERN

,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = GL_SOURCE_FLAG
	),'No') AS RES_TRANSACTION_SOURCES_JOURNA
	
,(SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'CE_RECON_MATCH_TYPE'
	AND LOOKUP_CODE   = MATCH_TYPE
	) AS RES_MATCHING_TYPE
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = AMOUNT_MATCH_FLAG
	),'No') AS RES_AMOUNT
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = DATE_MATCH_FLAG
	),'No')     AS RES_DATE
,  decode(length(nvl(JOIN_CONDITION,'X')),0,'No',1,'No','Yes') AS RES_USE_ADVANCED_CRITERIA
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = REFERENCE_ID_MATCH_FLAG
	),'No') AS RES_RECONCILIATION_REFERENCE
,NVL((SELECT MEANING
	FROM CE_LOOKUPS
	WHERE LOOKUP_TYPE = 'YES_NO'
	AND LOOKUP_CODE   = TYPE_MATCH_FLAG
	),'No') AS RES_TRANSACTION_TYPE
,CRMR.LAST_UPDATED_BY RSC_LAST_UPDATED_BY
,CRMR.LAST_UPDATE_DATE RSC_LAST_UPDATE_DATE
,CRMR.CREATED_BY RSC_CREATED_BY
,CRMR.CREATION_DATE RSC_CREATION_DATE
,NULL RSC_LEDGER_ID
,NULL RSC_CHART_OF_ACCOUNTS_ID
,NULL RSC_BUSINESS_UNIT_ID
,NULL RSC_LEGAL_ENTITY_ID
,NULL RSC_ORGANIZATION_ID
,NULL RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM CE_RECON_MATCHING_RULES CRMR
ORDER BY RES_NAME