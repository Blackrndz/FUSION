/* ****************************************************************************
* $Revision: 78229 $:
* $Author: pisan.jariyasettachok $:
* $Date: 2022-04-07 14:37:05 +0700 (Thu, 07 Apr 2022) $:
* $HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/reverse_sql/FINANCIALS/Manage%20Worker%20Time%20Processing%20Profiles%20-%20Profile%20Values.sql $:
* $Id: Manage Worker Time Processing Profiles - Profile Values.sql 78229 2022-04-07 07:37:05Z pisan.jariyasettachok $:
* ****************************************************************************
* Description:
* ************************************************************************** */


SELECT hxtSPEO.NAME RES_PROFILE_NAME 
,hxtSPEO.DESCRIPTION RES_DESCRIPTION
,TO_CHAR(hxtSOVEO.EFFECTIVE_START_DATE,'DD-Mon-YYYY') RES_EFFECTIVE_START_DATE
,(SELECT NAME 
	FROM HWM_RP_TM_PERIODS_VL 
	WHERE REPEATING_TM_PERIOD_ID = hxtSOVEO.VALUE30 
	) RES_TIME_CARD_PERIOD
,(SELECT NAME 
	FROM HWM_RP_TM_PERIODS_VL 
	WHERE REPEATING_TM_PERIOD_ID = hxtSOVEO.VALUE34 
	)RES_OVERTIME_PERIOD
,(SELECT NAME 
	FROM HWM_TCSMR_CONFIG_SETS_VL  
	WHERE TCSMR_CONFIG_SET_ID = hxtSOVEO.VALUE31 
	) RES_TIME_CONSUMER_SET
,(SELECT RULE_SET_NAME 
	FROM HWM_RULE_SETS_F 
	WHERE RULE_SET_ID = hxtSOVEO.VALUE32 
	AND SYSDATE BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE
	) RES_TIME_CALCULATION_RULE_SET
,(SELECT RULE_SET_NAME 
	FROM HWM_RULE_SETS_F 
	WHERE RULE_SET_ID = hxtSOVEO.VALUE33
	AND SYSDATE BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE
	) RES_TIME_ENTRY_RULE_SET
,DECODE(hxtSOVEO.VALUE23,'Y','Yes','No') RES_ENABLE_RESUBMISSION_OF_FUT
,DECODE(hxtSOVEO.VALUE25,'Y','Yes','No') RES_SUBMIT_TIME_CARDS_FOR_SCHE
,(CASE WHEN TRIM(hxtSOVEO.VALUE21) IS NOT NULL
	THEN 'Yes'
	ELSE 'No'
  END)	RES_ENABLE_CHANGE_AUDIT
,(SELECT MEANING 
	FROM FND_LOOKUP_VALUES 
	WHERE LOOKUP_TYPE = 'ORA_HWM_ENABLE_CHANGE_AUDIT'
	AND LOOKUP_CODE = hxtSOVEO.VALUE21 
	AND LANGUAGE = USERENV('LANG')
	) RES_CHANGE_AUDIT_OPTION
,DECODE(hxtSOVEO.VALUE24,'Y','Yes','No') RES_ENABLE_CHANGE_AUDIT_FOR_SC
,DECODE(hxtSOVEO.VALUE22,'Y','Yes','No') RES_REQUIRE_CHANGE_AUDIT_REASO
,hxtSOVEO.VALUE26||' '||hxtSOVEO.VALUE27 RES_PAYROLL_ELEMENT_TO_AUTOMAT
,hxtSOVEO.CREATED_BY  AS RSC_CREATED_BY
,hxtSOVEO.CREATION_DATE AS RSC_CREATION_DATE
,hxtSOVEO.LAST_UPDATED_BY  AS RSC_LAST_UPDATED_BY
,hxtSOVEO.LAST_UPDATE_DATE AS RSC_LAST_UPDATE_DATE
,null RSC_LEDGER_ID
,null RSC_CHART_OF_ACCOUNTS_ID
,null RSC_BUSINESS_UNIT_ID
,null RSC_LEGAL_ENTITY_ID
,null RSC_ORGANIZATION_ID
,null RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID
  
FROM HXT_SETUP_PROFILES_VL hxtSPEO 
,HXT_SETUP_OPTION_VALS hxtSOVEO
WHERE hxtSPEO.PRODUCT_AREA = 'CORE' 
AND hxtSPEO.SETUP_PROFILE_ID = hxtSOVEO.SETUP_PROFILE_ID
ORDER BY hxtSPEO.PRECEDENCE,hxtSOVEO.EFFECTIVE_START_DATE