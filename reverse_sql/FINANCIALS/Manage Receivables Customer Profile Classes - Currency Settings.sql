 /* ****************************************************************************
 * $Revision: 78229 $:
 * $Author: pisan.jariyasettachok $:
 * $Date: 2022-04-07 14:37:05 +0700 (Thu, 07 Apr 2022) $:
 * $HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/reverse_sql/FINANCIALS/Manage%20Receivables%20Customer%20Profile%20Classes%20-%20Currency%20Settings.sql $:
 * $Id: Manage Receivables Customer Profile Classes - Currency Settings.sql 78229 2022-04-07 07:37:05Z pisan.jariyasettachok $:
 * ****************************************************************************
 * Description:
 * ************************************************************************** */

SELECT HzCustProfileClasses.NAME AS RES_PROFILE_CLASS_NAME
,(HzCustProfClassAmts.CURRENCY_CODE|| ' - ' ||CurrencyPEO.NAME) AS RES_CURRENCY
,(SELECT USER_CONVERSION_TYPE 
	FROM GL_DAILY_CONVERSION_TYPES
	WHERE CONVERSION_TYPE = HzCustProfClassAmts.EXCHANGE_RATE_TYPE 
	) AS RES_CONVERSION_RATE_TYPE
,HzCustProfClassAmts.AUTO_REC_MIN_RECEIPT_AMOUNT AS RES_LIMITS_MINIMUM_RECEIPT_AMO
,HzCustProfClassAmts.MIN_STATEMENT_AMOUNT AS RES_LIMITS_MINIMUM_STATEMENT_A
,HzCustProfClassAmts.MIN_DUNNING_AMOUNT AS RES_LIMITS_MINIMUM_DUNNING_AMO
,HzCustProfClassAmts.MIN_DUNNING_INVOICE_AMOUNT AS RES_LIMITS_MINIMUM_DUNNING_INV
,(SELECT MEANING
	FROM ar_lookups
	WHERE LOOKUP_TYPE = 'AR_AMOUNT_PERCENT'
	AND LOOKUP_CODE   = HzCustProfClassAmts.MIN_FC_INVOICE_OVERDUE_TYPE
	) AS RES_MINIMUM_INVOICE_BALANCE_OV
,HzCustProfClassAmts.MIN_FC_INVOICE_AMOUNT AS RES_MINIMUM_INVOICE_BALANCE__0
,HzCustProfClassAmts.MIN_FC_INVOICE_PERCENT AS RES_MINIMUM_INVOICE_BALANCE__1
,(SELECT MEANING
	FROM ar_lookups
	WHERE LOOKUP_TYPE = 'AR_AMOUNT_PERCENT'
	AND LOOKUP_CODE   = HzCustProfClassAmts.MIN_FC_BALANCE_OVERDUE_TYPE
	) AS RES_MINIMUM_CUSTOMER_BALANCE_O
,HzCustProfClassAmts.MIN_FC_BALANCE_AMOUNT AS RES_MINIMUM_CUSTOMER_BALANCE_2
,HzCustProfClassAmts.MIN_FC_BALANCE_PERCENT AS RES_MINIMUM_CUSTOMER_BALANCE_3
,HzCustProfClassAmts.MIN_INTEREST_CHARGE AS RES_MINIMUM_LATE_CHARGE_PER_IN
,HzCustProfClassAmts.MAX_INTEREST_CHARGE AS RES_MAXIMUM_LATE_CHARGE_PER_IN
,(SELECT MEANING
	FROM ar_lookups
	WHERE LOOKUP_TYPE = 'AR_INTEREST_PENALTY_TYPE'
	AND LOOKUP_CODE   = HzCustProfClassAmts.INTEREST_TYPE
	) AS RES_INTEREST_CHARGE_TYPE
,HzCustProfClassAmts.INTEREST_RATE AS RES_INTEREST_CHARGE_RATE
,HzCustProfClassAmts.INTEREST_FIXED_AMOUNT AS RES_INTEREST_CHARGE_AMOUNT
,(SELECT ArChargeSchedules.SCHEDULE_NAME
	FROM AR_CHARGE_SCHEDULES ArChargeSchedules
	WHERE ArChargeSchedules.SCHEDULE_ID = HzCustProfClassAmts.INTEREST_SCHEDULE_ID
	) AS RES_INTEREST_CHARGE_SCHEDULE
,(SELECT MEANING
	FROM ar_lookups
	WHERE LOOKUP_TYPE = 'AR_INTEREST_PENALTY_TYPE'
	AND LOOKUP_CODE   = HzCustProfClassAmts.PENALTY_TYPE
	) AS RES_PENALTY_CHARGE_TYPE
,HzCustProfClassAmts.PENALTY_RATE AS RES_PENALTY_CHARGE_RATE
,HzCustProfClassAmts.PENALTY_FIXED_AMOUNT AS RES_PENALTY_CHARGE_AMOUNT
,(SELECT ArChargeSchedules.SCHEDULE_NAME
	FROM AR_CHARGE_SCHEDULES ArChargeSchedules
	WHERE ArChargeSchedules.SCHEDULE_ID = HzCustProfClassAmts.PENALTY_SCHEDULE_ID
	) AS RES_PENALTY_CHARGE_SCHEDULE
,HzCustProfClassAmts.LAST_UPDATED_BY  RSC_LAST_UPDATED_BY
,HzCustProfClassAmts.LAST_UPDATE_DATE  RSC_LAST_UPDATE_DATE
,HzCustProfClassAmts.CREATED_BY  RSC_CREATED_BY
,HzCustProfClassAmts.CREATION_DATE  RSC_CREATION_DATE
,null RSC_LEDGER_ID
,null RSC_CHART_OF_ACCOUNTS_ID
,null RSC_BUSINESS_UNIT_ID
,null RSC_LEGAL_ENTITY_ID
,null RSC_ORGANIZATION_ID
,null RSC_BUSINESS_GROUP_ID
,NULL RSC_ENTERPRISE_ID
,NULL RSC_COUNTRY_ID

FROM HZ_CUST_PROF_CLASS_AMTS HzCustProfClassAmts
,FND_CURRENCIES_VL CurrencyPEO
,HZ_CUST_PROFILE_CLASSES HzCustProfileClasses
WHERE HzCustProfClassAmts.CURRENCY_CODE  = CurrencyPEO.CURRENCY_CODE
AND HzCustProfClassAmts.PROFILE_CLASS_ID = HzCustProfileClasses.PROFILE_CLASS_ID
ORDER BY HzCustProfileClasses.NAME
