<?xml version="1.0"?>
<navigation xmlns="http://navigation0005.configurator.erapidsuite.com" xmlns:xsd="http://xsdutility.configurator.erapidsuite.com">
	<name>Manage Tax Rates and Tax Recovery Rates (Withholding Tax Rates)</name>
	<svn>
		<xsd:revision>$Revision: 80578 $:</xsd:revision>
		<xsd:author>$Author: patiya.chunhachai $:</xsd:author>
		<xsd:date>$Date: 2023-03-27 18:04:04 +0700 (Mon, 27 Mar 2023) $:</xsd:date>
		<xsd:headURL>$HeadURL: https://svn03.rapid4cloud.com/svn/a/dev/rapidesuite/controldata/FUSION_11.1.13/trunk/core/knowledgebase/navigation/FINANCIALS/Manage%20Tax%20Rates%20and%20Tax%20Recovery%20Rates%20(Withholding%20Tax%20Rates).xml $:</xsd:headURL>
		<xsd:id>$Id: Manage Tax Rates and Tax Recovery Rates (Withholding Tax Rates).xml 80578 2023-03-27 11:04:04Z patiya.chunhachai $:</xsd:id>
	</svn>
	<description/>
	<type>FUSION</type>
	<engine_type>SELENIUM</engine_type>
	<modules/>
	<mapper_use_type>UNDEFINED</mapper_use_type>
	<validate_parent_child_relationships_for_mapped_data>true</validate_parent_child_relationships_for_mapped_data>
	<fusionNavigation hasScope="false"
        isBatchingBasedOnRootInventoryUniqueRecords="true"
        taskName="Manage Tax Rates and Tax Recovery Rates"
        isBatchingAllowed="true" applicationKey="APPLICATION_HOME_PAGE">
		<dependencies>
			<navigation name="Manage Tax Statuses (Withholding Tax)"/>
		</dependencies>
		<parameters>
			<parameter name="MAIN_REPEAT_1" value="Manage Tax Rates and Tax Recovery Rates - Withholding Tax Rate"/>
			<parameter name="MAIN_REPEAT_2" value="Manage Tax Rates and Tax Recovery Rates - Withholding Rate Periods"/>
			<parameter name="MAIN_REPEAT_3" value="Manage Tax Rates and Tax Recovery Rates - Withholding Main Details"/>
			<parameter name="MAIN_REPEAT_4" value="Manage Tax Rates and Tax Recovery Rates - Withholding Tax Accounts"/>
			<parameter name="MAIN_REPEAT_5" value="Manage Tax Rates and Tax Recovery Rates - Withholding Tax Reporting Codes"/>
			<parameter name="MAIN_REPEAT_6" value="Manage Tax Rates and Tax Recovery Rates - Withholding Rate Schedule"/>
		</parameters>
		<block name="Reset_Button">
			<executeBlock navigationName="TemplateUTILITY" name="TEMPLATE_EXPAND">
				<parameters>
					<parameter name="XPATH" value="//a[contains(@title,'Expand Search')]/../.."/>
				</parameters>
			</executeBlock>
			<executeBlock navigationName="TemplateUTILITY" name="TEMPLATE_BUTTON">
				<parameters>
					<parameter name="XPATH" value="//a[contains(@title,'Collapse Search')]/../../../../../.."/>
					<parameter name="BUTTON_NAME" value="Reset"/>
				</parameters>
			</executeBlock>
			<pause durationInSecs="1"/>
		</block>
		<block name="Waiting_Default_Start_Date1">
			<IfThenElse>
				<if>
					<findElement by="xpath">//label[text()='Default Start Date']/../..//input[@disabled]</findElement>
				</if>
				<then>
					<findElement by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[4]//input</findElement>
					<click isCheckbox="true" waitForPageToFinishRendering="true">
						<valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
					</click>
				</then>
				<else>
					<break/>
				</else>
			</IfThenElse>
		</block>
		<block name="Waiting_Default_Start_Date2">
			<IfThenElse>
				<if>
					<findElement by="xpath">//label[text()='Default Start Date']/../..//input[@disabled]</findElement>
				</if>
				<then>
					<findElement by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[3]//input</findElement>
					<click isCheckbox="true" waitForPageToFinishRendering="true">
						<valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
					</click>
				</then>
				<else>
					<break/>
				</else>
			</IfThenElse>
		</block>
		<block name="Show_All">
			<IfThenElse>
				<if>
					<findElement highlightTurnedOff="true" by="xpath">//table[@summary='Tax Reporting Codes']/../../../..//a[text()='View']/../../../../../../../../../../../..//div[contains(@id,'eoi')]</findElement>
				</if>
				<then>
					<findElement by="xpath">//table[@summary='Tax Reporting Codes']/../../../..//a[text()='View']/../../../../../../../../../../../..//div[contains(@id,'eoi')]</findElement>
					<click waitForPageToFinishRendering="true"/>
					<findElement by="xpath">//table[@summary='Tax Reporting Codes']/../../../..//a[text()='View']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<findElement by="xpath">//div[contains(@class,'PopupMenu')]//td[text()='Columns']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<findElement by="xpath">//div[contains(@class,'PopupMenu')]//td[text()='Show All']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</then>
				<else>
					<findElement by="xpath">//table[@summary='Tax Reporting Codes']/../../../..//a[text()='View']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<findElement by="xpath">//div[contains(@class,'PopupMenu')]//td[text()='Columns']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<findElement by="xpath">//div[contains(@class,'PopupMenu')]//td[text()='Show All']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Search_For">
			<findElement by="xpath">//legend[text()='Search For']/..//*[contains(text(),'Withholding Tax')]/div</findElement>
			<click waitForPageToFinishRendering="true" isJavaScript="true"/>
			<pause durationInSecs="1"/>
		</block>
		<block name="Search...Configuration Owner">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
				</if>
				<then>
					<pause durationInSecs="1"/>
					<break/>
				</then>
				<else>
					<findElement isDisplayed="true" by="xpath">//label[text()='Configuration Owner']/../..//a</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Search_Tax_Rates">
			<!-- ***Need to use sendKey instead of templateInput cause of DOM and cache error***  -->
			<!-- Tax Regime Code -->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//label[text()='Tax Regime Code']/../..//input</findElement>
					<sendKeys isClear="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>
					</sendKeys>
					<pause durationInSecs="1"/>
					<!-- <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
						<parameters>
							<parameter name="XPATH" value="//label[text()='Tax Regime Code']/../.."/>
							<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
							<parameter name="COL_NAME" value="Tax Regime Code"/>
						</parameters>
					</executeBlock> -->
				</then>
				<else></else>
			</IfThenElse>
			<!-- Tax -->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//label[text()='Tax']/../..//input</findElement>
					<sendKeys isClear="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax"/>
					</sendKeys>
					<pause durationInSecs="1"/>
					<!-- <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
						<parameters>
							<parameter name="XPATH" value="//label[text()='Tax']/../.."/>
							<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
							<parameter name="COL_NAME" value="Tax"/>
						</parameters>
					</executeBlock> -->
				</then>
				<else></else>
			</IfThenElse>
			<!-- Tax Jurisdiction Code -->
			<!--<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//label[text()='Tax Jurisdiction Code']/../..//input</findElement>
					<sendKeys isClear="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>
					</sendKeys>
					<pause durationInSecs="1"/>-->
					<!-- <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
						<parameters>
							<parameter name="XPATH" value="//label[text()='Tax Jurisdiction Code']/../.."/>
							<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
							<parameter name="COL_NAME" value="Tax Jurisdiction Code"/>
						</parameters>
					</executeBlock> 
				</then>
				<else></else>
			</IfThenElse>-->
			<!-- Tax Rate Code -->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//label[text()='Tax Rate Code']/../..//input</findElement>
					<sendKeys isClear="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>
					</sendKeys>
					<pause durationInSecs="1"/>
					<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
						<parameters>
							<parameter name="XPATH" value="//label[text()='Tax Rate Code']/../.."/>
							<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
							<parameter name="COL_NAME" value="Tax Rate Code"/>
						</parameters>
					</executeBlock>
				</then>
				<else></else>
			</IfThenElse>
			<!-- Configuration Owner -->
			<!--<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//label[text()='Configuration Owner']/../..//input</findElement>
					<sendKeys isClear="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>
					</sendKeys>
					<pause durationInSecs="1"/>-->
					<!-- <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
						<parameters>
							<parameter name="XPATH" value="//label[text()='Configuration Owner']/../.."/>
							<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
							<parameter name="COL_NAME" value="Configuration Owner"/>
						</parameters>
					</executeBlock>
				</then>
				<else></else>
			</IfThenElse>-->
			
			<executeBlock name="Search_Button"/>
			<pause durationInSecs="2"/>
			<IfThenElse>
				<if>
					<findElement by="xpath">//table[@summary='Search Results']/../..//div[contains(@id,'scroller')]</findElement>
				</if>
				<then>
					<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
						<parameters>
							<parameter name="TEMPLATE_NO_DATA" value="//table[@summary='Search Results']/../..//div[contains(text(),'No search conducted.')]"/>
							<parameter name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Search Results']/tbody/tr)[2]/td[1]"/>
							<parameter name="TEMPLATE_SCROLLER" value="//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']/../..//div[contains(@id,'scroller')]"/>
							<parameter name="TEMPLATE_1_FIND_ROW">//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']//a[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>']</parameter>
							<parameter name="TEMPLATE_CREATE" value="Create_Tax_Rate"/>
							<parameter name="TEMPLATE_UPDATE" value="Update_Tax_Rate"/>
						</parameters>
					</executeBlock>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement by="xpath">//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']//a[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>']</findElement>
						</if>
						<then>
							<findElement by="xpath">//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']//a[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>']</findElement>
							<click waitForPageToFinishRendering="true"/>
							<IfThenElse>
								<if>
									<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
								</if>
								<then/>
								<else>
									<findElement by="xpath">//button[text()='Edit']</findElement>
									<click waitForPageToFinishRendering="true"/>
								</else>
							</IfThenElse>
						</then>
						<else>
							<executeBlock navigationName="TemplateCREATE_UPDATE" name="TEMPLATE_SPECIFY_CREATE">
								<parameters>
									<parameter name="XPATH" value="//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']/../../../.."/>
								</parameters>   
							</executeBlock>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse>
		</block>
		<block name="Create_Tax_Rate">
			<executeBlock navigationName="TemplateCREATE_UPDATE" name="TEMPLATE_SPECIFY_CREATE">
				<parameters>
					<parameter name="XPATH" value="//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']/../../../.."/>
				</parameters>   
			</executeBlock>
		</block>
		<block name="Update_Tax_Rate">
			<IfThenElse>
				<if>
					<findElement by="xpath">//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']//a[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>']</findElement>
				</if>
				<then>
					<findElement by="xpath">//*[contains(text(),'With')]/../../../../../../..//table[@summary='Search Results']//a[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Rate Code"/>']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
						</if>
						<then/>
						<else>
							<findElement by="xpath">//button[text()='Edit']</findElement>
							<click waitForPageToFinishRendering="true"/>
						</else>
					</IfThenElse>
				</then>
				<else/>
			</IfThenElse>
		</block>
		<block name="Search_Button">
			<executeBlock name="BUTTON">
					<parameters>
						<parameter name="BUTTON_NAME" value="Search"/>
					</parameters>
				</executeBlock>
		</block>
		<!-- MAIN_REPEAT_1 -->
		<block name="Tax_Rate">
            <!-- Tax Regime Code -->
            <IfThenElse>
				<if>
					<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//label[text()='Tax Regime Code']/../..//input</findElement>
				</if>
				<then>
					<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//label[text()='Tax Regime Code']/../..//input</findElement>
					<sendKeys isClear="true" waitForPageToFinishRendering="true" isSkipCheckDomError="true">
						<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>
					</sendKeys>
					<pause durationInSecs="10"/>
					<IfThenElse>
						<if>
							<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[contains(text(),'<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>')]</findElement>
						</if>
						<then>
							<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[contains(text(),'<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>')]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<pause durationInSecs="5"/>
						</then>
						<else>
							<IfThenElse>
								<if>
									<findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//a[@title='Search: Tax Regime Code']</findElement>
								</if>
								<then>
									<findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//a[@title='Search: Tax Regime Code']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
									<pause durationInSecs="2"/>
									<findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[contains(@style,'position: relative;')]/../..//a[text()='Search...']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
									<pause durationInSecs="2"/>
									<IfThenElse>
										<if>
											<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//a[contains(@title,'Collapse Search')]</findElement>
										</if>
										<then/>
										<else>
											<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//a[contains(@title,'Expand Search')]</findElement>
											<click waitForPageToFinishRendering="true"/>
										</else>
									</IfThenElse>
									<findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[text()='Search and Select: Tax Regime Code']/../../../../../../..//button[text()='A']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
									<pause durationInSecs="2"/>
									<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//div[text()='Search and Select: Tax Regime Code']/../../../../../../..//label[text()=' Tax Regime Code']/..//input</findElement>
									<sendKeys isClear="true" waitForPageToFinishRendering="true" isSkipCheckDomError="true">
										<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>
									</sendKeys>
									<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//div[text()='Search and Select: Tax Regime Code']/../../../../../../..//label[text()='Tax Regime Name Operator']/..//select</findElement>
									<select by="selectByVisibleText" isPageLoadingOnSelectValue="true">
										<valueText>Is not blank</valueText>
									</select>
									<findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[text()='Search and Select: Tax Regime Code']/../../../../../../..//button[text()='Search']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<pause durationInSecs="2"/>
									<IfThenElse>
										<if>
											<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[contains(@style,'position: relative')]//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>']/../../../../../../td[1]</findElement>
										</if>
										<then>
											<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[contains(@style,'position: relative')]//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>']/../../../../../../td[1]</findElement>
											<click waitForPageToFinishRendering="true"/>
											<pause durationInSecs="2"/>
											<findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//div[text()='Search and Select: Tax Regime Code']/../../../../../../..//button[text()='OK']</findElement>
											<click waitForPageToFinishRendering="true"/>
											<pause durationInSecs="2"/>
										</then>
										<else>
											<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
                                                <parameters>
                                                    <parameter name="XPATH" value="//label[text()='Tax Regime Code']/../.."/>
                                                    <parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
                                                    <parameter name="COL_NAME" value="Tax Regime Code"/>
                                                    <parameter name="SEARCH_1" value="Tax Regime Code"/>
                                                </parameters>
                                            </executeBlock>
										</else>
									</IfThenElse>
								</then>
								<else>
								</else>
							</IfThenElse>
						</else>
					</IfThenElse>
				</then>
				<else>
				</else>
			</IfThenElse>
			<!-- Configuration Owner -->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<IfThenElse>
						<if>
							<findElement by="xpath">//label[text()='Configuration Owner']/../..//input</findElement>
						</if>
						<then>
							<findElement by="xpath">//label[text()='Configuration Owner']/../..//a</findElement>
							<click waitForPageToFinishRendering="true"/>
							<findElement by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
							<click waitForPageToFinishRendering="true"/>
							<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//label[text()='Configuration Owner']/../..//input</findElement>
							<sendKeys isClear="true" isENTERKey="true" waitForPageToFinishRendering="true">
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>
							</sendKeys>
							<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//button[text()='Search']</findElement>
							<click waitForPageToFinishRendering="true"/>									
							<IfThenElse>
								<if>
									<evaluateXPATHBoolean>count(//div[text()='Search and Select: Configuration Owner']/../../../../../../..//table[@_rowcount]//table[@summary='']//tr)=1</evaluateXPATHBoolean>
								</if>
								<then>
									<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//button[text()='OK']</findElement>
									<click waitForPageToFinishRendering="true"/>
								</then>
								<else>
									<findElement isSkipCheckDomError="true" by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//label[text()='Party Type']/../..//input</findElement>
									<sendKeys isSkipCheckDomError="true" isClear="true" waitForPageToFinishRendering="true">
										<valueText>Business unit owning tax content</valueText>
									</sendKeys>
									<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//button[text()='Search']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<IfThenElse>
										<if>
											<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>']</findElement>
										</if>
										<then>
											<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Configuration Owner"/>']</findElement>
											<click waitForPageToFinishRendering="true"/>
											<findElement by="xpath">//div[text()='Search and Select: Configuration Owner']/../../../../../../..//button[text()='OK']</findElement>
											<click waitForPageToFinishRendering="true"/>
										</then>
										<else>
											<error message="The field 'Configuration Owner' doesn't exist."/>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>	
						</then>
						<else/>
					</IfThenElse>
				</then>
				<else/>
			</IfThenElse>
			<!-- Tax -->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Tax']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
					<parameter name="COL_NAME" value="Tax"/>
					<parameter name="SEARCH_1" value="Tax"/>
				</parameters>
			</executeBlock>
			<!-- Tax Status Code -->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Tax Status Code']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
					<parameter name="COL_NAME" value="Tax Status Code"/>
					<parameter name="SEARCH_1" value="Tax Status Code"/>
				</parameters>
			</executeBlock>
            <!-- Tax Jurisdiction Code -->
			<IfThenElse>
                <if>
                    <comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
                </if>
                <then>
                    <IfThenElse>
                        <if>
                            <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//label[text()='Tax Jurisdiction Code']/../..//input</findElement>
                        </if>
                        <then>
                            <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//label[text()='Tax Jurisdiction Code']/../..//input</findElement>
                            <sendKeys isClear="true" waitForPageToFinishRendering="true" isSkipCheckDomError="true">
                                <valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>
                            </sendKeys>
                            <pause durationInSecs="10"/>
                            <IfThenElse>
                                <if>
                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[contains(text(),'<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>')]</findElement>
                                </if>
                                <then>
                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[contains(text(),'<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>')]</findElement>
                                    <click waitForPageToFinishRendering="true"/>
                                    <pause durationInSecs="5"/>
                                </then>
                                <else>
                                    <IfThenElse>
                                        <if>
                                            <findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//a[@title='Search: Tax Jurisdiction Code']</findElement>
                                        </if>
                                        <then>
                                            <findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//a[@title='Search: Tax Jurisdiction Code']</findElement>
                                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                            <pause durationInSecs="2"/>
                                            <findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[contains(@style,'position: relative;')]/../..//a[text()='Search...']</findElement>
                                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                            <pause durationInSecs="2"/>
                                            <IfThenElse>
                                                <if>
                                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//a[contains(@title,'Collapse Search')]</findElement>
                                                </if>
                                                <then/>
                                                <else>
                                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//a[contains(@title,'Expand Search')]</findElement>
                                                    <click waitForPageToFinishRendering="true"/>
                                                </else>
                                            </IfThenElse>
                                            <findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[text()='Search and Select: Tax Jurisdiction Code']/../../../../../../..//button[text()='A']</findElement>
                                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                            <pause durationInSecs="2"/>
                                            <findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//div[text()='Search and Select: Tax Jurisdiction Code']/../../../../../../..//label[text()='Tax Jurisdiction Code']/../..//input</findElement>
                                            <sendKeys isClear="true" waitForPageToFinishRendering="true" isSkipCheckDomError="true">
                                                <valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Regime Code"/>
                                            </sendKeys>
                                            <findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//div[text()='Search and Select: Tax Jurisdiction Code']/../../../../../../..//label[text()='Tax Jurisdiction Name']/../..//select</findElement>
                                            <select by="selectByVisibleText" isPageLoadingOnSelectValue="true">
                                                <valueText>Is not blank</valueText>
                                            </select>
                                            <findElement by="xpath" isSkipCheckDomError="true" isDisplayed="true">//div[text()='Search and Select: Tax Jurisdiction Code']/../../../../../../..//button[text()='Search']</findElement>
                                            <click waitForPageToFinishRendering="true"/>
                                            <pause durationInSecs="2"/>
                                            <IfThenElse>
                                                <if>
                                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[contains(@style,'position: relative')]//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>']/../../../../../../td[1]</findElement>
                                                </if>
                                                <then>
                                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//table[contains(@style,'position: relative')]//td[text()='<valueKB inventoryName="MAIN_REPEAT_1" columnName="Tax Jurisdiction Code"/>']/../../../../../../td[1]</findElement>
                                                    <click waitForPageToFinishRendering="true"/>
                                                    <pause durationInSecs="2"/>
                                                    <findElement highlightTurnedOff="true" isSkipCheckDomError="true" by="xpath">//div[text()='Search and Select: Tax Jurisdiction Code']/../../../../../../..//button[text()='OK']</findElement>
                                                    <click waitForPageToFinishRendering="true"/>
                                                    <pause durationInSecs="2"/>
                                                </then>
                                                <else>
                                                    <executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
                                                        <parameters>
                                                            <parameter name="XPATH" value="//label[text()='Tax Jurisdiction Code']/../.."/>
                                                            <parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
                                                            <parameter name="COL_NAME" value="Tax Jurisdiction Code"/>
                                                            <parameter name="SEARCH_1" value="Tax Jurisdiction Code"/>
                                                        </parameters>
                                                    </executeBlock>
                                                </else>
                                            </IfThenElse>
                                        </then>
                                        <else>
                                        </else>
                                    </IfThenElse>
                                </else>
                            </IfThenElse>
                        </then>
                        <else>
                        </else>
                    </IfThenElse>
                </then>
                <else>
                </else>
            </IfThenElse>
			<!-- Tax Rate Code -->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Tax Rate Code']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
					<parameter name="COL_NAME" value="Tax Rate Code"/>
				</parameters>
			</executeBlock>
			<!-- Tax Rate Type -->
			<executeBlock navigationName="TemplateSELECT" name="TEMPATE_SELECT">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Tax Rate Type']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
					<parameter name="COL_NAME" value="Tax Rate Type"/>
				</parameters>
			</executeBlock>
			<executeBlock navigationName="TemplateCHECKBOX" name="TEMPLATE_CHECKBOX">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Procure to pay']/.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_1"/>
					<parameter name="COL_NAME" value="Procure to pay"/>
				</parameters>
			</executeBlock>
		</block>
		<!-- MAIN_REPEAT_2 -->
		<block name="Rate_Periods">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true"  highlightTurnedOff="true" by="xpath">//label[text()='Tax Rate Type']/../..//td[2]/*[text()='Percentage' or @title='Percentage']</findElement>
				</if>
				<then>
					<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
						<parameters>
							<parameter name="TEMPLATE_NO_DATA" value="//*[text()='Rate Periods']/../../../../../../..//div[contains(text(),'No data to display.')]"/>
							<parameter name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Rate Periods']//tr[1]//td)[1]"/>
							<parameter name="TEMPLATE_SCROLLER" value="//table[@summary='Rate Periods']/../..//div[contains(@id,'scroller')]"/>
							<parameter name="TEMPLATE_1_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//*[normalize-space(text())='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Rate Percentage"/>'] and td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//*[normalize-space(text())='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>']]/../../../../../td[1]</parameter>
							<parameter name="TEMPLATE_2_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[normalize-space(@value)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Rate Percentage"/>'] and td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[normalize-space(@value)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>']]</parameter>
                            <parameter name="TEMPLATE_3_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[normalize-space(@title)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Rate Percentage"/>'] and td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[normalize-space(@title)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>']]/../../../../../td[1]</parameter>
							<parameter name="TEMPLATE_CREATE" value="Create_Rate_Periods"/>
							<parameter name="TEMPLATE_UPDATE" value="Update_Rate_Periods"/>
						</parameters>
					</executeBlock>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement isDisplayed="true" highlightTurnedOff="true" by="xpath">//label[text()='Tax Rate Type']/../..//*[@title='Gross amount rate schedule' or text()='Line amount'  or text()='Withheld amount rate schedule']</findElement>
						</if>
						<then>
							<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
								<parameters>
									<parameter name="TEMPLATE_NO_DATA" value="//*[text()='Rate Periods']/../../../../../../..//div[contains(text(),'No data to display.')]"/>
									<parameter name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Rate Periods']//tr[1]//td)[1]"/>
									<parameter name="TEMPLATE_SCROLLER" value="//table[@summary='Rate Periods']/../..//div[contains(@id,'scroller')]"/>
									<parameter name="TEMPLATE_1_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//*[normalize-space(text())='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>'] and td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective End Date']/../../@_d_index)]//*[normalize-space(text())='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective End Date"/>']]</parameter>
									<parameter name="TEMPLATE_2_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//*[normalize-space(text())='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>']]</parameter>
									<parameter name="TEMPLATE_3_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[normalize-space(@value)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>'] and td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective End Date']/../../@_d_index)]//input[normalize-space(@value)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective End Date"/>']]</parameter>
									<parameter name="TEMPLATE_4_FIND_ROW">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[normalize-space(@value)='<valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>']]</parameter>
									<parameter name="TEMPLATE_CREATE" value="Create_Rate_Periods"/>
									<parameter name="TEMPLATE_UPDATE" value="Update_Rate_Periods"/>
								</parameters>
							</executeBlock>
						</then>
						<else/>
					</IfThenElse>
				</else>
			</IfThenElse>
		</block>
		<block name="Create_Rate_Periods">
			<!-- <IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div/*[text()='Rate Percentage']</findElement>
				</if>
				<then>
					<IfThenElse>
						<if>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
						</if>
						<then>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="1"/>
						</then>
						<else>
							<IfThenElse>
								<if>
									<findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
								</if>
								<then>
									<findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>   					
								</then>
								<else>
									<IfThenElse>
										<if>
											<findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
										</if>
										<then>
											<findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
											<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>  
											<findElement isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[@title='Add Row' or text()='Add Row']</findElement>
											<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>						
										</then>
										<else>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
							<pause durationInSecs="2"/>
							<findElement isDisplayed="true" by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="1"/>
						</else>
					</IfThenElse>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
						</if>
						<then>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="1"/>
						</then>
						<else>
							<IfThenElse>
								<if>
									<findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
								</if>
								<then>
									<findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>   					
								</then>
								<else>
									<IfThenElse>
										<if>
											<findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
										</if>
										<then>
											<findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
											<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>  
											<findElement isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[@title='Add Row' or text()='Add Row']</findElement>
											<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>						
										</then>
										<else>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
							<pause durationInSecs="2"/>
							<findElement isDisplayed="true" by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="1"/>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse> -->
            <IfThenElse>
                <if>
                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
                </if>
                <then>
                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Rate Percentage']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
                    <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                    <pause durationInSecs="1"/>
                </then>
                <else>
                    <IfThenElse>
                        <if>
                            <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
                        </if>
                        <then>
                            <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                            <pause durationInSecs="1"/>
                        </then>
                        <else>
                            <IfThenElse>
                                <if>
                                    <findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
                                </if>
                                <then>
                                    <findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']</findElement>
                                    <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>   					
                                </then>
                                <else>
                                    <IfThenElse>
                                        <if>
                                            <findElement highlightTurnedOff="true" isDisplayed="true" isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
                                        </if>
                                        <then>
                                            <findElement isSkipCheckDomError="true" by="xpath">//table[@summary='Rate Periods']/../../../..//div[@title='Add Row' or text()='Add Row']/../../../../../../../..</findElement>
                                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>  
                                            <findElement isSkipCheckDomError="true" by="xpath">//table[@style='position: relative;']//*[@title='Add Row' or text()='Add Row']</findElement>
                                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>						
                                        </then>
                                        <else>
                                        </else>
                                    </IfThenElse>
                                </else>
                            </IfThenElse>
                            <pause durationInSecs="2"/>
                            <findElement isDisplayed="true" by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[td[number(//table[@summary='Rate Periods']/../..//th//span[text()='Effective Start Date']/../../@_d_index)]//input[not(@value) and not(@title)]]</findElement>
                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                            <pause durationInSecs="1"/>
                        </else>
                    </IfThenElse>
                </else>
            </IfThenElse>
            <!-- Rate Percentage -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Rate Percentage"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Rate Percentage']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Rate Percentage']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Rate Percentage"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
            <!-- Effective Start Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective Start Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Effective Start Date']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Effective Start Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Effective Start Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
            <!-- Effective End Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective End Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Effective End Date']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Effective End Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Effective End Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
            <!-- Set as Default Rate -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText>Yes</valueText>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <IfThenElse>
                        <if>
                            <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input[@checked]</findElement>
                        </if>
                        <then>
                            
                        </then>
                        <else>
                            <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input</findElement>
                            <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                            <pause durationInSecs="1"/>
                        </else>
                    </IfThenElse>
                </then>
                <else>
                    <IfThenElse>
                        <if>
                            <comparisons separator="AND">
                                <comparison operator="EQUAL">
                                    <leftOperand>
                                        <valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
                                    </leftOperand>
                                    <rightOperand>
                                        <valueText>No</valueText>
                                    </rightOperand>
                                </comparison>
                            </comparisons>
                        </if>
                        <then>
                            <IfThenElse>
                                <if>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input[not(@checked)]</findElement>
                                </if>
                                <then>
                                    
                                </then>
                                <else>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input</findElement>
                                    <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                    <pause durationInSecs="1"/>
                                </else>
                            </IfThenElse>
                        </then>
                        <else>
                            
                        </else>
                    </IfThenElse>
                </else>
            </IfThenElse>
            <!-- Default Start Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB
                            inventoryName="MAIN_REPEAT_2" columnName="Default Start Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <executeBlock name="Waiting_Default_Start_Date1" isRepeatUntilBreak="true"/>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default Start Date']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default Start Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Default Start Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
            <!-- Default End Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB
                            inventoryName="MAIN_REPEAT_2" columnName="Default End Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default End Date']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default End Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Default End Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
		</block>
		<block name="Update_Rate_Periods">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">TEMPLATE_1_FIND_ROW</findElement>
				</if>
				<then>
					<findElement isDisplayed="true" by="xpath">TEMPLATE_1_FIND_ROW</findElement>
					<click waitForPageToFinishRendering="true"/>
					<pause durationInSecs="1"/>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement isDisplayed="true" by="xpath">TEMPLATE_2_FIND_ROW</findElement>
						</if>
						<then>
							<findElement isDisplayed="true" by="xpath">TEMPLATE_2_FIND_ROW</findElement>
							<click waitForPageToFinishRendering="true"/>
							<pause durationInSecs="1"/>
						</then>
						<else>
							<IfThenElse>
								<if>
									<findElement isDisplayed="true" by="xpath">TEMPLATE_3_FIND_ROW</findElement>
								</if>
								<then>
									<findElement isDisplayed="true" by="xpath">TEMPLATE_3_FIND_ROW</findElement>
									<click waitForPageToFinishRendering="true"/>
									<pause durationInSecs="1"/>
								</then>
								<else>
									<IfThenElse>
										<if>
											<findElement isDisplayed="true" by="xpath">TEMPLATE_4_FIND_ROW</findElement>
										</if>
										<then>
											<findElement isDisplayed="true" by="xpath">TEMPLATE_4_FIND_ROW</findElement>
											<click waitForPageToFinishRendering="true"/>
											<pause durationInSecs="1"/>
										</then>
										<else>
											<executeBlock name="Create_Rate_Periods"/>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse>
            <!-- Effective End Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Effective End Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Effective End Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Effective End Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
            <!-- Set as Default Rate -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText></valueText>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <IfThenElse>
                        <if>
                            <comparisons separator="AND">
                                <comparison operator="EQUAL">
                                    <leftOperand>
                                        <valueKB inventoryName="MAIN_REPEAT_2" columnName="Set as Default Rate"/>
                                    </leftOperand>
                                    <rightOperand>
                                        <valueText>Yes</valueText>
                                    </rightOperand>
                                </comparison>
                            </comparisons>
                        </if>
                        <then>
                            <!--Reclick Row-->
                            <IfThenElse>
                                <if>
                                    <findElement isDisplayed="true" by="xpath">TEMPLATE_1_FIND_ROW</findElement>
                                </if>
                                <then>
                                    <findElement isDisplayed="true" by="xpath">TEMPLATE_1_FIND_ROW</findElement>
                                    <click waitForPageToFinishRendering="true"/>
                                    <pause durationInSecs="1"/>
                                </then>
                                <else>
                                    <IfThenElse>
                                        <if>
                                            <findElement isDisplayed="true" by="xpath">TEMPLATE_2_FIND_ROW</findElement>
                                        </if>
                                        <then>
                                            <findElement isDisplayed="true" by="xpath">TEMPLATE_2_FIND_ROW</findElement>
                                            <click waitForPageToFinishRendering="true"/>
                                            <pause durationInSecs="1"/>
                                        </then>
                                        <else>
                                            <IfThenElse>
                                                <if>
                                                    <findElement isDisplayed="true" by="xpath">TEMPLATE_3_FIND_ROW</findElement>
                                                </if>
                                                <then>
                                                    <findElement isDisplayed="true" by="xpath">TEMPLATE_3_FIND_ROW</findElement>
                                                    <click waitForPageToFinishRendering="true"/>
                                                    <pause durationInSecs="1"/>
                                                </then>
                                                <else>
                                                    <IfThenElse>
                                                        <if>
                                                            <findElement isDisplayed="true" by="xpath">TEMPLATE_4_FIND_ROW</findElement>
                                                        </if>
                                                        <then>
                                                            <findElement isDisplayed="true" by="xpath">TEMPLATE_4_FIND_ROW</findElement>
                                                            <click waitForPageToFinishRendering="true"/>
                                                            <pause durationInSecs="1"/>
                                                        </then>
                                                        <else/>
                                                    </IfThenElse>
                                                </else>
                                            </IfThenElse>
                                        </else>
                                    </IfThenElse>
                                </else>
                            </IfThenElse>
                            <IfThenElse>
                                <if>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input[@checked]</findElement>
                                </if>
                                <then>
                                    
                                </then>
                                <else>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input</findElement>
                                    <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                    <pause durationInSecs="1"/>
                                </else>
                            </IfThenElse>
                        </then>
                        <else>
                            <IfThenElse>
                                <if>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input[not(@checked)]</findElement>
                                </if>
                                <then>
                                    
                                </then>
                                <else>
                                    <findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//td[string(//span[text()='Set as Default Rate']/../..//@_d_index)+0]//input</findElement>
                                    <click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
                                    <pause durationInSecs="1"/>
                                </else>
                            </IfThenElse>
                        </else>
                    </IfThenElse>
                </then>
                <else>

                </else>
            </IfThenElse>
            <!-- Default Start Date -->
            <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                <parameters>
                    <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default Start Date']/../.."/>
                    <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                    <parameter name="COL_NAME" value="Default Start Date"/>
                </parameters>
            </executeBlock>
            <!-- Default End Date -->
            <IfThenElse>
                <if>
                    <comparisons separator="AND">
                        <comparison operator="NOT_EQUAL">
                            <leftOperand>
                                <valueKB
                            inventoryName="MAIN_REPEAT_2" columnName="Default End Date"/>
                            </leftOperand>
                            <rightOperand>
                                <valueText/>
                            </rightOperand>
                        </comparison>
                    </comparisons>
                </if>
                <then>
                    <findElement highlightTurnedOff="true" by="xpath">//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default End Date']/..</findElement>
                    <click waitForPageToFinishRendering="true"/>
                    <executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
                        <parameters>
                            <parameter name="XPATH" value="//table[@summary='Rate Periods']//tr[contains(@class,'Select')]//label[text()='Default End Date']/../.."/>
                            <parameter name="INV_NAME" value="MAIN_REPEAT_2"/>
                            <parameter name="COL_NAME" value="Default End Date"/>
                        </parameters>
                    </executeBlock>
                </then>
                <else/>
            </IfThenElse>
		</block>
		<!-- MAIN_REPEAT_3 -->
		<block name="Rate_Period_Details">
			<!-- Rate Period Name -->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT_ENTER">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Rate Period Name']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Rate Period Name"/>
				</parameters>
			</executeBlock>
			<!-- Tax Rate Description -->
			<!--<executeBlock name="INPUT_TEXTAREA">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Rate Period Description' or text()='Tax Rate Description']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Rate Period Description"/>
				</parameters>
			</executeBlock>-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Rate Period Description']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Rate Period Description"/>
				</parameters>
			</executeBlock>
			<!-- Tax Transaction Type -->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Tax Transaction Type']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Tax Transaction Type"/>
					<parameter name="SEARCH_1" value="Tax Transaction Type Code"/>
				</parameters>
			</executeBlock>
			<!--Allow tax exemptions-->
			<executeBlock navigationName="TemplateCHECKBOX" name="TEMPLATE_CHECKBOX">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Allow tax exemptions']/.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Allow tax exemptions"/>
				</parameters>
			</executeBlock>
			<!--Allow tax exceptions-->
			<executeBlock navigationName="TemplateCHECKBOX" name="TEMPLATE_CHECKBOX">
				<parameters>
					<parameter name="XPATH" value="//label[text()='Allow tax exceptions']/.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_3"/>
					<parameter name="COL_NAME" value="Allow tax exceptions"/>
				</parameters>
			</executeBlock>
		</block>
		<!--Click Tab-->
		<block name="Tab_Main_Details">
			<IfThenElse>
				<if>
					<findElement by="xpath">//a[text()='Main Details'][contains(@class,'Select')]</findElement>
				</if>
				<then/>
				<else>
					<findElement by="xpath">//a[text()='Main Details']</findElement>
					<!-- <click waitForPageToFinishRendering="true"/> -->
					<click waitForPageToFinishRendering="false"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Tab_Rate_Schedule">
			<IfThenElse>
				<if>
					<findElement by="xpath">//a[text()='Rate Schedule'][contains(@class,'Select')]</findElement>
				</if>
				<then/>
				<else>
					<findElement by="xpath">//a[text()='Rate Schedule']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Tab_Tax_Accounts">
			<IfThenElse>
				<if>
					<findElement by="xpath">//a[text()='Tax Accounts'][contains(@class,'Select')]</findElement>
				</if>
				<then/>
				<else>
					<findElement by="xpath">//a[text()='Tax Accounts']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Tab_Tax_Reporting_Codes">
			<IfThenElse>
				<if>
					<findElement by="xpath">//a[text()='Tax Reporting Codes'][contains(@class,'Select')]</findElement>
				</if>
				<then/>
				<else>
					<findElement by="xpath">//a[text()='Tax Reporting Codes']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<!-- MAIN_REPEAT_6 -->
		<block name="Rate_Schedule">
			<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
				<parameters>
					<parameter name="TEMPLATE_NO_DATA" value="//table[@summary='Rate Schedule']/../..//div[contains(text(),'No data to display.')]"/>
					<parameter name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Rate Schedule']//tr[1]//td)[1]"/>
					<parameter name="TEMPLATE_SCROLLER" value="//table[@summary='Rate Schedule']/../..//div[contains(@id,'scroller')]"/>
					<parameter name="TEMPLATE_1_FIND_ROW">//table[@summary='Rate Schedule']//td[1]//span[text()='<valueKB inventoryName="MAIN_REPEAT_6" columnName="From Amount"/>']</parameter>
					<parameter name="TEMPLATE_2_FIND_ROW">//table[@summary='Rate Schedule']//tr[td[number(//table[@summary='Rate Schedule']/../..//th//span[text()='From Amount']/../../@_d_index)][text()='<valueKB inventoryName="MAIN_REPEAT_6" columnName="From Amount"/>']]</parameter>
					<parameter name="TEMPLATE_3_FIND_ROW">//table[@summary='Rate Schedule']//tr[td[number(//table[@summary='Rate Schedule']/../..//th//span[text()='From Amount']/../../@_d_index)]//*[text()='<valueKB inventoryName="MAIN_REPEAT_6" columnName="From Amount"/>']]</parameter>
					<parameter name="TEMPLATE_4_FIND_ROW">//table[@summary='Rate Schedule']//tr[td[number(//table[@summary='Rate Schedule']/../..//th//span[text()='From Amount']/../../@_d_index)]//*[translate(text(),',','')=translate('<valueKB inventoryName="MAIN_REPEAT_6" columnName="From Amount"/>',',','')]]</parameter>
					<parameter name="TEMPLATE_5_FIND_ROW">//table[@summary='Rate Schedule']//tr[td[number(//table[@summary='Rate Schedule']/../..//th//span[text()='From Amount']/../../@_d_index)][translate(text(),',','')=translate('<valueKB inventoryName="MAIN_REPEAT_6" columnName="From Amount"/>',',','')]]</parameter>
					<parameter name="TEMPLATE_CREATE" value="Create_Rate_Schedule"/>
					<parameter name="TEMPLATE_UPDATE" value="Update_Rate_Schedule"/>
				</parameters>
			</executeBlock>
		</block>
		<block name="Create_Rate_Schedule">
			<executeBlock name="GLOBAL_SPECIFY_ADD">
				<parameters>
					<parameter name="SPECIFY_XPATH" value="//table[@summary='Rate Schedule']/../../../.."/>
				</parameters>
			</executeBlock>
			<!--From Amount-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Rate Schedule']//tr[contains(@class,'Select')]//td[1]"/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_6"/>
					<parameter name="COL_NAME" value="From Amount"/>
				</parameters>
			</executeBlock>
			<!--To Amount-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Rate Schedule']//label[text()='To Amount']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_6"/>
					<parameter name="COL_NAME" value="To Amount"/>
				</parameters>
			</executeBlock>
			<!--Rate Periods - Rate Percentage-->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_6" columnName="Rate Periods - Rate Percentage"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<IfThenElse>
						<if>
							<findElement isDisplayed="true" by="xpath">//table[@summary='Rate Schedule']//tr[contains(@class,'Select')]//td[3]/span/input</findElement>
						</if>
						<then>
							<findElement by="xpath" isDisplayed="true">//table[@summary='Rate Schedule']//tr[contains(@class,'Select')]//td[3]/span/input</findElement>
							<sendKeys isClear="true" waitForPageToFinishRendering="true">
								<valueKB inventoryName="MAIN_REPEAT_6" columnName="Rate Periods - Rate Percentage"/>
							</sendKeys>
						</then>
						<else/>
					</IfThenElse>
				</then>
				<else/>
			</IfThenElse>
		</block>
		<block name="Update_Rate_Schedule"/>
		<!-- MAIN_REPEAT_4 -->
		<block name="Tax_Accounts">
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_4" columnName="Ledger"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_4" columnName="Business Unit"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
						<parameters>
							<parameter
                                name="TEMPLATE_NO_DATA" value="//table[@summary='Tax Accounts']/../../../../../../../..//div[contains(text(),'No data to display.')]"/>
							<parameter
                                name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Tax Accounts']//tr[1]//td)[1]"/>
							<parameter
                                name="TEMPLATE_SCROLLER" value="//table[@summary='Tax Accounts']/../../../../../../../..//div[contains(@id,'scroller')]"/>
							<parameter
                                    name="TEMPLATE_1_FIND_ROW">//table[@summary='Tax Accounts']//td[1]//span[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_4"
                                    columnName="Ledger"/>']/../../..//td[2]//span/span[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_4" columnName="Business Unit"/>']</parameter>
							<parameter
                                    name="TEMPLATE_2_FIND_ROW">//table[@summary='Tax Accounts']//td[1]//input[@value='<valueKB
                                    inventoryName="MAIN_REPEAT_4"
                                    columnName="Ledger"/>']/../../../..//td[2]//input[@value='<valueKB
                                    inventoryName="MAIN_REPEAT_4" columnName="Business Unit"/>']</parameter>
							<parameter
                                name="TEMPLATE_CREATE" value="Create_Tax_Accounts"/>
							<parameter
                                name="TEMPLATE_UPDATE" value="Update_Tax_Accounts"/>
						</parameters>
					</executeBlock>
				</then>
				<else/>
			</IfThenElse>
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_4" columnName="Ledger"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
						<comparison operator="EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_4" columnName="Business Unit"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
						<parameters>
							<parameter
                                name="TEMPLATE_NO_DATA" value="//table[@summary='Tax Accounts']/../..//div[contains(text(),'No data to display.')]"/>
							<parameter
                                name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Tax Accounts']//tr[1]//td)[1]"/>
							<parameter
                                name="TEMPLATE_SCROLLER" value="//table[@summary='Tax Accounts']/../..//div[contains(@id,'scroller')]"/>
							<parameter
                                    name="TEMPLATE_1_FIND_ROW">//table[@summary='Tax Accounts']//td[1]//span[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_4" columnName="Ledger"/>']/../../..//td[2][string-length(text())]</parameter>
							<parameter
                                    name="TEMPLATE_2_FIND_ROW">//table[@summary='Tax Accounts']//td[1]//input[@value='<valueKB
                                    inventoryName="MAIN_REPEAT_4" columnName="Ledger"/>']/../../../..//td[2]//input[@value=""]</parameter>
							<parameter
                                name="TEMPLATE_CREATE" value="Create_Tax_Accounts"/>
							<parameter
                                name="TEMPLATE_UPDATE" value="Update_Tax_Accounts"/>
						</parameters>
					</executeBlock>
				</then>
				<else/>
			</IfThenElse>
		</block>
		<block name="Waiting_Seacrh_ACC">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true"
                        highlightTurnedOff="true" by="xpath">//a[@title='Collapse Search']</findElement>
				</if>
				<then>
					<break/>
				</then>
				<else>
					<findElement by="xpath">//a[@title='Expand Search']</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Create_Tax_Accounts">
			<IfThenElse>
				<if>
					<findElement by="xpath">TEMPLATE_FIRST_ROW</findElement>
				</if>
				<then>
					<findElement by="xpath">TEMPLATE_FIRST_ROW</findElement>
					<click waitForPageToFinishRendering="true"/>
					<pause durationInSecs="2"/>
					<findElement by="xpath" isDisplayed="true">//table[@summary='Tax Accounts']/../../../..//div[@title='Create']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<pause durationInSecs="2"/>
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">//table[@summary='Tax Accounts']//*[text()='Ledger']/..//*[@value='']/../../../../../../../../../td[1]</findElement>
						</if>
						<then>
							<findElement by="xpath" isDisplayed="true">//table[@summary='Tax Accounts']//*[text()='Ledger']/..//*[@value='']/../../../../../../../../../td[1]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<pause durationInSecs="2"/>
						</then>
						<else>
							<findElement highlightTurnedOff="true" by="xpath" isSkipCheckDomError="true">//table[@summary='Tax Accounts']/../..//div[contains(@id,'scroller')]</findElement>
							<scroll direction="TOP"/>
							<pause durationInSecs="1"/>
							<findElement by="xpath" isDisplayed="true">//table[@summary='Tax Accounts']//*[text()='Ledger']/..//*[@value='']/../../../../../../../../../td[1]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<pause durationInSecs="2"/>
						</else>
					</IfThenElse>
				</then>
				<else>
					<findElement by="xpath" isDisplayed="true">//table[@summary='Tax Accounts']/../../../..//div[@title='Create']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<pause durationInSecs="2"/>
				</else>
			</IfThenElse>
			<!--Ledger-->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//label[text()='Ledger']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_4"/>
					<parameter name="COL_NAME" value="Ledger"/>
					<parameter name="SEARCH_1" value="Name"/>
				</parameters>
			</executeBlock>
			<!--Business Unit-->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//label[text()='Business Unit']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_4"/>
					<parameter name="COL_NAME" value="Business Unit"/>
					<parameter name="SEARCH_1" value="Business Unit"/>
				</parameters>
			</executeBlock>
			<!--Tax Liability Account-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//label[text()='Tax Liability Account']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_4"/>
					<parameter name="COL_NAME" value="Tax Liability Account"/>
				</parameters>
			</executeBlock>
			<findElement by="xpath" isSkipCheckDomError="true">(//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//td[string(//span[text()='Tax Liability Account']/../..//@_d_index)+0])[1]//a</findElement>
			<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
			<pause durationInSecs="3"/>
			<findElement by="xpath" isSkipCheckDomError="true">//table[@style='position: relative;']//button[text()='O']</findElement>
			<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
			<pause durationInSecs="3"/>
			<IfThenElse>
				<if>
					<findElement by="xpath" isSkipCheckDomError="true">//table[@style='position: relative;']//div[text()='Error']</findElement>
				</if>
				<then>
					<error message="Tax Liability Account doesn't exist. Please check your data" />
				</then>
				<else>
				</else>
			</IfThenElse>
		</block>
		<block name="Update_Tax_Accounts">
			<IfThenElse>
				<if>
					<findElement by="xpath" isDisplayed="true">TEMPLATE_1_FIND_ROW</findElement>
				</if>
				<then>
					<findElement by="xpath" isDisplayed="true">TEMPLATE_1_FIND_ROW</findElement>
					<click waitForPageToFinishRendering="true"/>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">TEMPLATE_2_FIND_ROW</findElement>
						</if>
						<then>
							<findElement by="xpath" isDisplayed="true">TEMPLATE_2_FIND_ROW</findElement>
							<click waitForPageToFinishRendering="true"/>
						</then>
						<else/>
					</IfThenElse>
				</else>
			</IfThenElse>
			<!--Tax Liability Account-->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_4" columnName="Tax Liability Account"/>
							</leftOperand>
							<rightOperand>
								<valueText></valueText>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<IfThenElse>
						<if>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Tax Accounts']/tbody/tr[contains(@class,'Selected')]//label[text()='Tax Liability Account']/../..//input[@value='<valueKB inventoryName="MAIN_REPEAT_4" columnName="Tax Liability Account"/>']</findElement>
						</if>
						<then>
							
						</then>
						<else>
							<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
								<parameters>
									<parameter name="XPATH" value="//table[@summary='Tax Accounts']/tbody/tr[contains(@class,'Selected')]//label[text()='Tax Liability Account']/../.."/>
									<parameter name="INV_NAME" value="MAIN_REPEAT_4"/>
									<parameter name="COL_NAME" value="Tax Liability Account"/>
								</parameters>
							</executeBlock>
							<IfThenElse>
								<if>
									<findElement by="xpath" isSkipCheckDomError="true">//table[@summary='Tax Accounts']//a[contains(@class,'Disabled')]/..//img[contains(@title,'Tax Liability Account')]/..</findElement>
								</if>
								<then>
								</then>
								<else>
									<findElement by="xpath" isSkipCheckDomError="true">(//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//td[string(//span[text()='Tax Liability Account']/../..//@_d_index)+0])[1]//a</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
									<pause durationInSecs="3"/>
									<findElement by="xpath" isSkipCheckDomError="true">//table[@style='position: relative;']//button[text()='O']</findElement>
									<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
									<pause durationInSecs="3"/>
								</else>
							</IfThenElse>
							<!--<findElement by="xpath" isSkipCheckDomError="true">(//table[@summary='Tax Accounts']//tr[contains(@class,'Select')]//td[string(//span[text()='Tax Liability Account']/../..//@_d_index)+0])[1]//a</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="3"/>
							<findElement by="xpath" isSkipCheckDomError="true">//table[@style='position: relative;']//button[text()='O']</findElement>
							<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
							<pause durationInSecs="3"/>-->
							<IfThenElse>
								<if>
									<findElement by="xpath" isSkipCheckDomError="true">//table[@style='position: relative;']//div[text()='Error']</findElement>
								</if>
								<then>
									<error message="Tax Liability Account doesn't exist. Please check your data" />
								</then>
								<else>
								</else>
							</IfThenElse>
						</else>
					</IfThenElse>
				</then>
				<else>

				</else>
			</IfThenElse>
		</block>
		<!-- MAIN_REPEAT_5 -->
		<block name="Tax_Reporting_Codes">
			<executeBlock navigationName="TemplateSCROLLBAR" name="TEMPLATE_SCROLLBAR">
				<parameters>
					<parameter name="TEMPLATE_NO_DATA" value="//table[@summary='Tax Reporting Codes']/../..//div[contains(text(),'No data to display.')]"/>
					<parameter name="TEMPLATE_FIRST_ROW" value="(//table[@summary='Tax Reporting Codes']//tr[1]//td)[1]"/>
					<parameter name="TEMPLATE_SCROLLER" value="//table[@summary='Tax Reporting Codes']/../..//div[contains(@id,'scroller')]"/>
					<parameter
                            name="TEMPLATE_1_FIND_ROW">//table[@summary='Tax Reporting Codes']//td[1]//span[text()='<valueKB
                            inventoryName="MAIN_REPEAT_5"
                            columnName="Tax Reporting Type Code"/>']/../../..//td[3]//span[text()='<valueKB
                            inventoryName="MAIN_REPEAT_5"
                            columnName="Tax Reporting Code"/>']/../../..//td[5]//span[text()='<valueKB
                            inventoryName="MAIN_REPEAT_5" columnName="Effective Start Date"/>']/../../..//td[1]</parameter>
					<parameter name="TEMPLATE_CREATE" value="Create_Tax_Reporting_Codes"/>
					<parameter name="TEMPLATE_UPDATE" value="Update_Tax_Reporting_Codes"/>
				</parameters>
			</executeBlock>
		</block>
		<block name="Search...Tax_Reporting_Type_Code">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
				</if>
				<then>
					<pause durationInSecs="1"/>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<break/>
				</then>
				<else>
					<findElement isDisplayed="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[1]//a</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Search...Tax_Reporting_Code">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
				</if>
				<then>
					<pause durationInSecs="1"/>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<break/>
				</then>
				<else>
					<findElement isDisplayed="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[3]/span[3]/span/span//a</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Search...Tax_Reporting_Type_Code_Tab_Legal">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
				</if>
				<then>
					<pause durationInSecs="1"/>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<break/>
				</then>
				<else>
					<findElement isDisplayed="true" by="xpath">//table[@summary='Legal Justification Message Reporting Codes']//tr[contains(@class,'Select')]//td[1]//a</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Search...Tax_Reporting_Code_Tab_Legal">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
				</if>
				<then>
					<pause durationInSecs="1"/>
					<findElement isDisplayed="true" by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
					<click waitForPageToFinishRendering="true"/>
					<break/>
				</then>
				<else>
					<findElement isDisplayed="true" by="xpath">//table[@summary='Legal Justification Message Reporting Codes']//tr/td[3]//span/span/span//a</findElement>
					<click waitForPageToFinishRendering="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Create_Tax_Reporting_Codes">
			<executeBlock name="GLOBAL_SPECIFY_ADD">
				<parameters>
					<parameter name="SPECIFY_XPATH" value="//table[@summary='Tax Reporting Codes']/../../../../../../.."/>
				</parameters>
			</executeBlock>
			<!--Tax Reporting Type Code-->
			<executeBlock navigationName="TemplateLOV" name="TEMPLATE_LOV">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//label[text()='Tax Reporting Type Code']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_5"/>
					<parameter name="COL_NAME" value="Tax Reporting Type Code"/>
					<parameter name="SEARCH_1" value="Tax Reporting Type Code"/>
				</parameters>
			</executeBlock>
			<!--Tax Reporting Code-->
			<IfThenElse>
				<if>
					<comparisons separator="AND">
						<comparison operator="NOT_EQUAL">
							<leftOperand>
								<valueKB inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>
							</leftOperand>
							<rightOperand>
								<valueText/>
							</rightOperand>
						</comparison>
					</comparisons>
				</if>
				<then>
					<IfThenElse>
						<if>
							<findElement highlightTurnedOff="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[2]/span/span[text()='Date']</findElement>
						</if>
						<then>
							<findElement by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[3]/span/input</findElement>
							<sendKeys isClear="true" waitForPageToFinishRendering="true">
								<valueKB inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>
							</sendKeys>
						</then>
						<else/>
					</IfThenElse>
					<IfThenElse>
						<if>
							<findElement highlightTurnedOff="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[2]/span/span[text()='Numeric value']</findElement>
						</if>
						<then>
							<findElement by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[3]//span/a[contains(@id,'reportingCodeNumValueId')]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<IfThenElse>
								<if>
									<findElement
                                    highlightTurnedOff="true"
                                    isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='Search...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
								</if>
								<then>
									<findElement isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='Search...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
									<click waitForPageToFinishRendering="true"/>
								</then>
								<else>
									<findElement by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//label[text()='Tax Reporting Code']/../..//input</findElement>
									<sendKeys isClear="true"
                                    isENTERKey="true" waitForPageToFinishRendering="true">
										<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>
									</sendKeys>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='Search']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<IfThenElse>
										<if>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
										</if>
										<then>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
											<click waitForPageToFinishRendering="true"/>
											<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='OK']</findElement>
											<click waitForPageToFinishRendering="true"/>
										</then>
										<else>
											<error message="The field 'Tax Reporting Code' doesn't exist."/>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
						</then>
						<else/>
					</IfThenElse>
					<IfThenElse>
						<if>
							<findElement highlightTurnedOff="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[2]/span/span[text()='Text']</findElement>
						</if>
						<then>
							<findElement by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[3]//span/a[contains(@id,'reportingCodeCharValueId')]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<IfThenElse>
								<if>
									<findElement
                                    highlightTurnedOff="true"
                                    isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='Search...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
								</if>
								<then>
									<findElement isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='Search...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
									<click waitForPageToFinishRendering="true"/>
								</then>
								<else>
									<findElement by="xpath">//table/tbody/tr/td/div/a[text()='Search...']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//label[text()='Tax Reporting Code']/../..//input</findElement>
									<sendKeys isClear="true"
                                    isENTERKey="true" waitForPageToFinishRendering="true">
										<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>
									</sendKeys>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='Search']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<IfThenElse>
										<if>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
										</if>
										<then>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
											<click waitForPageToFinishRendering="true"/>
											<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='OK']</findElement>
											<click waitForPageToFinishRendering="true"/>
										</then>
										<else>
											<error message="The field 'Tax Reporting Code' doesn't exist."/>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
						</then>
						<else/>
					</IfThenElse>
					<IfThenElse>
						<if>
							<findElement highlightTurnedOff="true" by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[2]/span/span[text()='Yes or no indicator']</findElement>
						</if>
						<then>
							<findElement by="xpath">//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//td[3]//span/a[contains(@id,'booleanRepCodeId')]</findElement>
							<click waitForPageToFinishRendering="true"/>
							<IfThenElse>
								<if>
									<findElement
                                    highlightTurnedOff="true"
                                    isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='More...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
								</if>
								<then>
									<findElement isDisplayed="true"
                                    by="xpath">//div/div/div/div/table/tbody/tr/td/div/a[text()='More...']/..//tr[//td[1]]//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
									<click waitForPageToFinishRendering="true"/>
								</then>
								<else>
									<findElement by="xpath">//table/tbody/tr/td/div/a[text()='More...']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//label[text()='Tax Reporting Code']/../..//input</findElement>
									<sendKeys isClear="true"
                                    isENTERKey="true" waitForPageToFinishRendering="true">
										<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>
									</sendKeys>
									<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='Search']</findElement>
									<click waitForPageToFinishRendering="true"/>
									<IfThenElse>
										<if>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
										</if>
										<then>
											<findElement
                                    by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//td[text()='<valueKB
                                    inventoryName="MAIN_REPEAT_5" columnName="Tax Reporting Code"/>']</findElement>
											<click waitForPageToFinishRendering="true"/>
											<findElement by="xpath">//div[text()='Search and Select: Tax Reporting Code']/../../../../../../..//button[text()='OK']</findElement>
											<click waitForPageToFinishRendering="true"/>
										</then>
										<else>
											<error message="The field 'Tax Reporting Code' doesn't exist."/>
										</else>
									</IfThenElse>
								</else>
							</IfThenElse>
						</then>
						<else/>
					</IfThenElse>
				</then>
				<else/>
			</IfThenElse>
			<!--Effective Start Date-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//label[text()='Effective Start Date']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_5"/>
					<parameter name="COL_NAME" value="Effective Start Date"/>
				</parameters>
			</executeBlock>
			<!--Effective End Date-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//label[text()='Effective End Date']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_5"/>
					<parameter name="COL_NAME" value="Effective End Date"/>
				</parameters>
			</executeBlock>
		</block>
		<block name="Update_Tax_Reporting_Codes">
			<findElement by="xpath" isDisplayed="true">TEMPLATE_1_FIND_ROW</findElement>
			<click waitForPageToFinishRendering="true"/>
			<!--Effective End Date-->
			<executeBlock navigationName="TemplateINPUT" name="TEMPLATE_INPUT">
				<parameters>
					<parameter name="XPATH" value="//table[@summary='Tax Reporting Codes']//tr[contains(@class,'Select')]//label[text()='Effective End Date']/../.."/>
					<parameter name="INV_NAME" value="MAIN_REPEAT_5"/>
					<parameter name="COL_NAME" value="Effective End Date"/>
				</parameters>
			</executeBlock>
		</block>
		<block name="SCROLLBAR_GENERIC_INNER_1">
			<IfThenElse>
				<if>
					<findElement isDisplayed="true" by="xpath">TEMPLATE_1_FIND_ROW</findElement>
				</if>
				<then>
					<executeBlock name="TEMPLATE_UPDATE"/>
					<break/>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement isDisplayed="true" by="xpath">SCROLLBAR_GENERIC_2_FIND_ROW</findElement>
						</if>
						<then>
							<executeBlock name="TEMPLATE_UPDATE"/>
							<break/>
						</then>
						<else>
							<findElement highlightTurnedOff="true" by="xpath">TEMPLATE_SCROLLER</findElement>
							<IfThenElse>
								<if>
									<isEndOfScroll/>
								</if>
								<then>
									<executeBlock name="TEMPLATE_CREATE"/>
									<break/>
								</then>
								<else>
									<findElement
                                    highlightTurnedOff="true" by="xpath">TEMPLATE_SCROLLER</findElement>
									<scroll direction="DOWN"/>
									<pause durationInSecs="1"/>
								</else>
							</IfThenElse>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse>
		</block>
		<block name="SCROLLBAR_GENERIC_1">
			<!-- check if there is no data found returned after the search, if so then we create a new record if applicable -->
			<IfThenElse>
				<if>
					<findElement by="xpath">TEMPLATE_NO_DATA</findElement>
				</if>
				<then>
					<executeBlock name="TEMPLATE_CREATE"/>
				</then>
				<else>
					<!-- resetting the scrollbar back to the Top because the form remembers where it was even when searching a new record -->
					<findElement highlightTurnedOff="true" by="xpath">TEMPLATE_SCROLLER</findElement>
					<scroll direction="TOP"/>
					<findElement by="xpath" setFocus="true">TEMPLATE_FIRST_ROW</findElement>
					<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
					<executeBlock name="SCROLLBAR_GENERIC_INNER_1" isRepeatUntilBreak="true"/>
				</else>
			</IfThenElse>
		</block>
		<block name="Save_And_Close">
			<IfThenElse>
				<if>
					<findElement by="xpath" isSkipCheckDomError="true">//span[text()='S']/..</findElement>
				</if>
				<then>
					<findElement by="xpath" isSkipCheckDomError="true">//span[text()='S']/..</findElement>
					<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement by="xpath">//*[contains(text(),'Edit Withholding')]</findElement>
						</if>
						<then>
							<executeBlock name="GLOBAL_SPECIFY_SAVE_AND_CLOSE">
								<parameters>
									<parameter name="SPECIFY_XPATH" value="//*[contains(text(),'Edit Withholding')]/../../../../../../../../../../.."/>
								</parameters>
							</executeBlock>
						</then>
						<else>
							<executeBlock name="GLOBAL_SPECIFY_SAVE_AND_CLOSE">
								<parameters>
									<parameter name="SPECIFY_XPATH" value="//*[contains(text(),'Create Tax')]/../../../../../../../../../../.."/>
								</parameters>
							</executeBlock>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse>
		</block>
		<block name="Save">
			<IfThenElse>
				<if>
					<findElement by="xpath" isSkipCheckDomError="true">//span[text()='Save']/..</findElement>
				</if>
				<then>
					<findElement by="xpath" isSkipCheckDomError="true">//span[text()='Save']/..</findElement>
					<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
				</then>
				<else>
					<IfThenElse>
						<if>
							<findElement by="xpath">//*[contains(text(),'Edit Withholding')]</findElement>
						</if>
						<then>
							<executeBlock name="GLOBAL_SPECIFY_SAVE_AND_CLOSE">
								<parameters>
									<parameter name="SPECIFY_XPATH" value="//*[contains(text(),'Edit Withholding')]/../../../../../../../../../../.."/>
								</parameters>
							</executeBlock>
						</then>
						<else>
							<executeBlock name="GLOBAL_SPECIFY_SAVE_AND_CLOSE">
								<parameters>
									<parameter name="SPECIFY_XPATH" value="//*[contains(text(),'Create Tax')]/../../../../../../../../../../.."/>
								</parameters>
							</executeBlock>
						</else>
					</IfThenElse>
				</else>
			</IfThenElse>
		</block>
		<block name="FAKE">
			<findElement by="xpath">//label[text()='']/../..//select</findElement>
								<select by="selectByVisibleText" isPageLoadingOnSelectValue="true">
									<valueKB inventoryName="MAIN_REPEAT_3" columnName="Tax Regime Code"/>
								</select>
		</block>
		<executeBlock name="GLOBAL_GO_TO_TASK"/>
		<repeat inventoryName="MAIN_REPEAT_1">
			<executeBlock name="Search_For"/>
			<executeBlock name="Reset_Button"/>
			<executeBlock name="Search_Tax_Rates"/>
			<executeBlock name="Tax_Rate"/>
			<repeat inventoryName="MAIN_REPEAT_2">
				<IfThenElse>
					<if>
						<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
					</if>
					<then/>
					<else>
						<executeBlock name="Rate_Periods"/>
					</else>
				</IfThenElse>
				<repeat inventoryName="MAIN_REPEAT_3">
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
						</if>
						<then/>
						<else>
							<executeBlock name="Tab_Main_Details"/>
							<executeBlock name="Rate_Period_Details"/>
							<!--<executeBlock name="Save"/>-->
						</else>
					</IfThenElse>
				</repeat>
				<IfThenElse>
					<if>
						<findElement by="xpath">//a[text()='Rate Schedule']</findElement>
					</if>
					<then>
						<repeat inventoryName="MAIN_REPEAT_6">
							<IfThenElse>
								<if>
									<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
								</if>
								<then/>
								<else>
									<executeBlock name="Tab_Rate_Schedule"/>
									<executeBlock name="Rate_Schedule"/>
                                    <executeBlock name="Save"/>
								</else>
							</IfThenElse>
						</repeat>
					</then>
					<else/>
				</IfThenElse>
				<repeat inventoryName="MAIN_REPEAT_4">
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
						</if>
						<then/>
						<else>
							<executeBlock name="Tab_Tax_Accounts"/>
							<executeBlock name="Tax_Accounts"/>
                            <!--<executeBlock name="Save"/>-->
						</else>
					</IfThenElse>
				</repeat>
				<repeat inventoryName="MAIN_REPEAT_5">
					<IfThenElse>
						<if>
							<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
						</if>
						<then/>
						<else>
							<executeBlock name="Tab_Tax_Reporting_Codes"/>
							<executeBlock name="Tax_Reporting_Codes"/>
                            <!--<executeBlock name="Save"/>-->
						</else>
					</IfThenElse>
				</repeat>
				<executeBlock name="Save"/>
				<IfThenElse>
					<if>
						<findElement by="xpath" isSkipCheckDomError="true">//div[contains(@class,'Expansion')]/..//div[text()='Error']</findElement>
					</if>
					<then>
						<findElement by="xpath" isSkipCheckDomError="true">//div[contains(@class,'Expansion')]/..//button[text()='OK']</findElement>
						<click waitForPageToFinishRendering="true" isSkipCheckDomError="true"/>
						<pause durationInSecs="1"/>
					</then>
					<else>
						
					</else>
				</IfThenElse>
			</repeat>
			<IfThenElse>
				<if>
					<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]</findElement>
				</if>
				<then>
					<findElement by="xpath" isDisplayed="true">//button[text()='Edit'][@disabled]/../..//span[text()='o']/..</findElement>
					<click waitForPageToFinishRendering="true"/>
				</then>
				<else>
					<executeBlock name="Save"/>
			        <executeBlock name="Save_And_Close"/>
				</else>
			</IfThenElse>
		</repeat>
	</fusionNavigation>
</navigation>
